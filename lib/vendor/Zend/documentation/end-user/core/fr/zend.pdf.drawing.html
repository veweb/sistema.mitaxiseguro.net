<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>20.5. Dessiner</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="index.html" title="Guide de référence du programmeur">
<link rel="up" href="zend.pdf.html" title="Chapitre 20. Zend_Pdf">
<link rel="prev" href="zend.pdf.pages.html" title="20.4. Les pages d'un document">
<link rel="next" href="zend.pdf.usage.html" title="20.6. Exemple d'utilisation du module Zend_Pdf">
<link rel="chapter" href="zend.html" title="Chapitre 1. Zend">
<link rel="chapter" href="zend.acl.html" title="Chapitre 2. Zend_Acl">
<link rel="chapter" href="zend.auth.html" title="Chapitre 3. Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="Chapitre 4. Zend_Cache">
<link rel="chapter" href="zend.config.html" title="Chapitre 5. Zend_Config">
<link rel="chapter" href="zend.console.getopt.html" title="Chapitre 6. Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="Chapitre 7. Zend_Controller">
<link rel="chapter" href="zend.date.html" title="Chapitre 8. Zend_Date">
<link rel="chapter" href="zend.db.html" title="Chapitre 9. Zend_Db">
<link rel="chapter" href="zend.feed.html" title="Chapitre 10. Zend_Feed">
<link rel="chapter" href="zend.filter.html" title="Chapitre 11. Zend_Filter">
<link rel="chapter" href="zend.gdata.html" title="Chapitre 12. Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="Chapitre 13. Zend_Http">
<link rel="chapter" href="zend.json.html" title="Chapitre 14. Zend_Json">
<link rel="chapter" href="zend.locale.html" title="Chapitre 15. Zend_Locale">
<link rel="chapter" href="zend.log.html" title="Chapitre 16. Zend_Log">
<link rel="chapter" href="zend.mail.html" title="Chapitre 17. Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="Chapitre 18. Zend_Measure">
<link rel="chapter" href="zend.mime.html" title="Chapitre 19. Zend_Mime">
<link rel="chapter" href="zend.pdf.html" title="Chapitre 20. Zend_Pdf">
<link rel="chapter" href="zend.rest.html" title="Chapitre 21. Zend_Rest">
<link rel="chapter" href="zend.search.html" title="Chapitre 22. Zend_Search">
<link rel="chapter" href="zend.server.html" title="Chapitre 23. Zend_Server">
<link rel="chapter" href="zend.service.html" title="Chapitre 24. Zend_Service">
<link rel="chapter" href="zend.session.html" title="Chapitre 25. Zend_Session">
<link rel="chapter" href="zend.uri.html" title="Chapitre 26. Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="Chapitre 27. Zend_Validate">
<link rel="chapter" href="zend.view.html" title="Chapitre 28. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Chapitre 29. Zend_XmlRpc">
<link rel="appendix" href="coding-standard.html" title="Annexe A. Convention de codage PHP du Framework Zend">
<link rel="appendix" href="copyrights.html" title="Annexe B. Informations de copyright">
<link rel="index" href="the.index.html" title="Index">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.geometry" title="20.5.1. Geométrie">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.color" title="20.5.2. Couleurs">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.shape-drawing" title="20.5.3. Dessiner des formes">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.text-drawing" title="20.5.4. Dessiner du texte">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.using-fonts" title="20.5.5. Utiliser des polices de caractères">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.image-drawing" title="20.5.6. Insertion d'images">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.line-drawing-style" title="20.5.7. Style de lignes">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.fill-style" title="20.5.8. Style de remplissage">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.rotations" title="20.5.9. Rotations.">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.save-restore" title="20.5.10. Sauvegarder et restaurer l'état graphique.">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.clipping" title="20.5.11. Zone de dessins">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.styles" title="20.5.12. Styles">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">20.5. Dessiner</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.pdf.pages.html">Précédent</a> </td>
<th width="60%" align="center">Chapitre 20. Zend_Pdf</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.pdf.usage.html">Suivant</a>
</td>
</tr>
</table></div>
<div class="sect1" lang="fr">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.pdf.drawing"></a>20.5. Dessiner</h2></div></div></div>
<div class="sect2" lang="fr">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.geometry"></a>20.5.1. Geométrie</h3></div></div></div>
<p>
        Le format PDF utilise la même geométrie que le format PostScript.
        Elle démarre d'en bas à gauche et est mesuré en points (1/72 inch soit 0,352778 mm).
        </p>
<p>
         La taille d'une page peut-être récupéré depuis un objet page :
        </p>
<p>
            </p>
<pre class="programlisting">
$width  = $pdfPage-&gt;getWidth();
$height = $pdfPage-&gt;getHeight();
            </pre>
<p>
        </p>
</div>
<div class="sect2" lang="fr">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.color"></a>20.5.2. Couleurs</h3></div></div></div>
<p>
         Le format PDF a d'excellentes capacités dans la représantation des couleurs.
         Le module <code class="code">Zend_Pdf</code> supporte les espaces de couleur : niveaux de gris, RGB et CMJN.
         Chacun d'entre eux peut-être utilisé à chauque fois qu'un objet <code class="code">Zend_Pdf_Color</code> est requis.
         Les classes <code class="code">Zend_Pdf_Color_GrayScale</code>, <code class="code">Zend_Pdf_Color_RGB</code> et <code class="code">Zend_Pdf_Color_CMYK</code> fournissent cette fonctionnalité :
        </p>
<p>
            </p>
<pre class="programlisting">
// $grayLevel (float). 0.0 (noir) - 1.0 (blanc)
$color1 = new Zend_Pdf_Color_GrayScale($grayLevel);

// $r, $g, $b (float). 0.0 (intensité mimimum) - 1.0 (intensité maximum)
$color2 = new Zend_Pdf_Color_RGB($r, $g, $b);

// $c, $m, $y, $k (float). 0.0 (intensité mimimum) - 1.0 (intensité maximum)
$color3 = new Zend_Pdf_Color_CMYK($c, $m, $y, $k);
            </pre>
<p>
        </p>
</div>
<div class="sect2" lang="fr">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.shape-drawing"></a>20.5.3. Dessiner des formes</h3></div></div></div>
<p>
         Toutes les opérations de dessins peuvent-étre réalisé dans le contexte d'une page PDF.
        </p>
<p>
         La classe <code class="code">Zend_Pdf_Page</code> fournis les outils de dessins :
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Dessine une ligne de x1,y1 à x2,y2.
 *
 * @param float $x1
 * @param float $y1
 * @param float $x2
 * @param float $y2
 */
public function drawLine($x1, $y1, $x2, $y2);
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Dessine un rectangle.
 *
 * Type de remplissage:
 * Zend_Pdf_Page::SHAPE_DRAW_FILL_AND_STROKE - remplit le rectangle et dessine le contour (par défaut)
 * Zend_Pdf_Page::SHAPE_DRAW_STROKE      - trace uniquement le contour du rectangle
 * Zend_Pdf_Page::SHAPE_DRAW_FILL        - remplit le rectangle
 *
 * @param float $x1
 * @param float $y1
 * @param float $x2
 * @param float $y2
 * @param integer $fillType
 */
public function drawRectangle($x1, $y1, $x2, $y2, $fillType = Zend_Pdf_Page::SHAPE_DRAW_FILL_AND_STROKE);
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Dessine un polygone.
 *
 * Si $fillType est Zend_Pdf_Page::SHAPE_DRAW_FILL_AND_STROKE ou Zend_Pdf_Page::SHAPE_DRAW_FILL,
 * le polygone est automatiquement fermé.
 * Regardez la description détaillé de ces méthodes dans la
 * documentation du format PDF
 * (section 4.4.2 Path painting Operators, Filling)
 *
 * @param array $x  - tableau de float (les coordonnés X des sommets)
 * @param array $y  - tableau de float (les coordonnés Y des sommets)
 * @param integer $fillType
 * @param integer $fillMethod
 */
public function drawPolygon($x, $y,
                            $fillType = Zend_Pdf_Page::SHAPE_DRAW_FILL_AND_STROKE,
                            $fillMethod = $fillMethod = Zend_Pdf_Page::FILL_METHOD_NON_ZERO_WINDING);
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Dessine un cercle avec comme centre  x, y et comme rayon radius.
 *
 * Les angle sont en radian
 *
 * Signatures des méthodes:
 * drawCircle($x, $y, $radius);
 * drawCircle($x, $y, $radius, $fillType);
 * drawCircle($x, $y, $radius, $startAngle, $endAngle);
 * drawCircle($x, $y, $radius, $startAngle, $endAngle, $fillType);
 *
 *
 * Ce n'est pas rellement un cercle, car le format supporte uniquement des courbe de Bezier cubique.
 * Mais c'est une très bonne approximation.
 * La difféfference avec un vrais cercle est de au maximum 0.00026 radians
 * (avec les angle PI/8, 3*PI/8, 5*PI/8, 7*PI/8, 9*PI/8, 11*PI/8, 13*PI/8 et 15*PI/8).
 * Avec les angles 0, PI/4, PI/2, 3*PI/4, PI, 5*PI/4, 3*PI/2 et 7*PI/4 c'est exactement la tangente d'un cercle.
 *
 * @param float $x
 * @param float $y
 * @param float $radius
 * @param mixed $param4
 * @param mixed $param5
 * @param mixed $param6
 */
public function  drawCircle($x, $y, $radius, $param4 = null, $param5 = null, $param6 = null);
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Dessine une ellipse dans le rectangle spécifié.
 *
 * Signatures des méthodes:
 * drawEllipse($x1, $y1, $x2, $y2);
 * drawEllipse($x1, $y1, $x2, $y2, $fillType);
 * drawEllipse($x1, $y1, $x2, $y2, $startAngle, $endAngle);
 * drawEllipse($x1, $y1, $x2, $y2, $startAngle, $endAngle, $fillType);
 *
 * Les angles sont en radians
 *
 * @param float $x1
 * @param float $y1
 * @param float $x2
 * @param float $y2
 * @param mixed $param5
 * @param mixed $param6
 * @param mixed $param7
 */
public function drawEllipse($x1, $y1, $x2, $y2, $param5 = null, $param6 = null, $param7 = null);
            </pre>
<p>
        </p>
</div>
<div class="sect2" lang="fr">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.text-drawing"></a>20.5.4. Dessiner du texte</h3></div></div></div>
<p>
         Les opérations de dessins existe bien sûr dans le contexte d'une page PDF.
         Vous pouvez dessiner une seule ligne de texte à n'importe quelle endroit dans la page
         en fournissant les coordonnées x et y de la ligne de base.
         La police courant ainsi que sa taille seront utilisées pour le dessin (voir la description
         ci-dessous).
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Dessine une ligne de texte à a la position x,y.
 *
 * @param string $text
 * @param float $x
 * @param float $y
 * @param string $charEncoding (optionnel) encodage des caractères du text.
 * Par défaut la locale courante est utilisée.
 * @throws Zend_Pdf_Exception
 */
public function drawText($text, $x, $y, $charEncoding = '');
            </pre>
<p>
        </p>
<div class="example">
<a name="id4865227"></a><p class="title"><b>Exemple 20.5. Dessiner une ligne dans la page</b></p>
<pre class="programlisting">&lt;?php
...
$pdfPage-&gt;drawText('Bonjour le monde!', 72, 720);
...
?&gt;
            </pre>
</div>
<p>
        Par défaut, les chaînes de texte sont interprétées en utilisant l'encodage de la locale courante.
        Si vous avez une chaîne qui utilise un encodage différent (comme les chaînes UTF-8 lues depuis une fichier
        sur le disque, ou une chaîne MacRoman obtenue depuis une base de données), vous pouvez indiquez
        l'encodage au moment du dessin et Zend_Pdf gérera la conversion pour vous. Vous pouvez fournir des chaînes
        dans n'importe quel encodage supporté par la fonction
        <code class="code"><a href="http://www.php.net/manual/function.iconv.php" target="_top">iconv()</a></code> de PHP:
        </p>
<div class="example">
<a name="id4865279"></a><p class="title"><b>Exemple 20.6. Dessiner une chaîne UTF-8 sur une page.</b></p>
<pre class="programlisting">&lt;?php
...
// Lit une chaîne UTF-8 à partir du disque
$unicodeString = fread($fp, 1024);

// Dessine une chaîne dans la page
$pdfPage-&gt;drawText($unicodeString, 72, 720, 'UTF-8');
...
?&gt;
            </pre>
</div>
</div>
<div class="sect2" lang="fr">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.using-fonts"></a>20.5.5. Utiliser des polices de caractères</h3></div></div></div>
<p>
            <code class="code">Zend_Pdf_Page::drawText()</code> utilise la police courante ainsi que sa taille, qui sont définies avec la méthode
            <code class="code">Zend_Pdf_Page::setFont()</code> :
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Choisis la police courante.
 *
 * @param Zend_Pdf_Resource_Font $font
 * @param float $fontSize
 */
public function setFont(Zend_Pdf_Resource_Font $font, $fontSize);
            </pre>
<p>
        </p>
<p>
            Les documents PDF supportent PostScript Type 1 et les polices TrueType, mais également deux types
            spécifiques PDF, Type3 et les polices composites. Il y a aussi 14 polices Type 1 standard intégré
            dans tout lecteur de PDF : Courier (4 styles), Helvetica (4 styles), Times (4 styles), Symbol, et Zapf Dingbats.
        </p>
<p>
            Zend_Pdf supporte actuellement les 14 polices standard mais également vos propres police TrueType.
            Les objets de police obtenu via une des deux factory methods : <code class="code">Zend_Pdf_Font::fontWithName($fontName)</code>
            pour les 14 polices PDF standard ou <code class="code">Zend_Pdf_Font::fontWithPath($filePath)</code> pour les polices
            personnalisées.
        </p>
<div class="example">
<a name="id4865381"></a><p class="title"><b>Exemple 20.7. Créer une police standard</b></p>
<pre class="programlisting">&lt;?php
...
// Crée une nouvelle police
$font = new Zend_Pdf_Font_Standard(Zend_Pdf_Font::FONT_HELVETICA);

// Applique la police
$pdfPage-&gt;setFont($font, 36);
...
?&gt;
            </pre>
</div>
<p>
         Les constantes pour les 14 polices standard sont définis dans la classe <code class="code">Zend_Pdf_Font</code> :
        </p>
<div class="itemizedlist"><ul type="disc">
<li><p>Zend_Pdf_Font::FONT_COURIER</p></li>
<li><p>Zend_Pdf_Font::FONT_COURIER_BOLD</p></li>
<li><p>Zend_Pdf_Font::FONT_COURIER_ITALIC</p></li>
<li><p>Zend_Pdf_Font::FONT_COURIER_BOLD_ITALIC</p></li>
<li><p>Zend_Pdf_Font::FONT_TIMES</p></li>
<li><p>Zend_Pdf_Font::FONT_TIMES_BOLD</p></li>
<li><p>Zend_Pdf_Font::FONT_TIMES_ITALIC</p></li>
<li><p>Zend_Pdf_Font::FONT_TIMES_BOLD_ITALIC</p></li>
<li><p>Zend_Pdf_Font::FONT_HELVETICA</p></li>
<li><p>Zend_Pdf_Font::FONT_HELVETICA_BOLD</p></li>
<li><p>Zend_Pdf_Font::FONT_HELVETICA_ITALIC</p></li>
<li><p>Zend_Pdf_Font::FONT_HELVETICA_BOLD_ITALIC</p></li>
<li><p>Zend_Pdf_Font::FONT_SYMBOL</p></li>
<li><p>Zend_Pdf_Font::FONT_ZAPFDINGBATS</p></li>
</ul></div>
<p>
        </p>
<p>
        You can also use any individual TrueType font (which usually has a '.ttf' extension) or an
        OpenType font ('.otf' extension) if it contains TrueType outlines. Currently unsupported,
        but planned for a future release are Mac OS X .dfont files and Microsoft TrueType Collection
        ('.ttc' extension) files.
        </p>
<p>
        To use a TrueType font, you must provide the full file path to the font program. If the font
        cannot be read for some reason, or if it is not a TrueType font, the factory method will throw
        an exception:
        </p>
<div class="example">
<a name="id4865531"></a><p class="title"><b>Exemple 20.8. Create a TrueType font.</b></p>
<pre class="programlisting">&lt;?php
...
// Create new font
$goodDogCoolFont = Zend_Pdf_Font::fontWithPath('/path/to/GOODDC__.TTF');

// Apply font
$pdfPage-&gt;setFont($goodDogCoolFont, 36);
...
?&gt;
            </pre>
</div>
<p>
        By default, custom fonts will be embedded in the resulting PDF document. This allows recipients
        to view the page as intended, even if they don't have the proper fonts installed on their system.
        If you are concerned about file size, you can request that the font program not be embedded by
        passing a 'do not embed' option to the factory method:
        </p>
<div class="example">
<a name="id4865562"></a><p class="title"><b>Exemple 20.9. Create a TrueType font, but do not embed it in the PDF document.</b></p>
<pre class="programlisting">&lt;?php
...
// Create new font
$goodDogCoolFont = Zend_Pdf_Font::fontWithPath('/path/to/GOODDC__.TTF',
                                               Zend_Pdf_Font::EMBED_DONT_EMBED);

// Apply font
$pdfPage-&gt;setFont($goodDogCoolFont, 36);
...
?&gt;
            </pre>
</div>
<p>
        If the font program is not embedded but the recipient of the PDF file has the font installed on
        their system, they will see the document as intended. If they do not have the correct font
        installed, the PDF viewer application will do its best to synthesize a replacement.
        </p>
<p>
        Some fonts have very specific licensing rules which prevent them from being embedded in PDF
        documents. So you are not caught off-guard by this, if you try to use a font that cannot be
        embedded, the factory method will throw an exception.
        </p>
<p>
        You can still use these fonts, but you must either pass the do not embed flag as described above,
        or you can simply suppress the exception:
        </p>
<div class="example">
<a name="id4865608"></a><p class="title"><b>Exemple 20.10. Do not throw an exception for fonts that cannot be embeded.</b></p>
<pre class="programlisting">&lt;?php
...
$font = Zend_Pdf_Font::fontWithPath('/path/to/unEmbeddableFont.ttf',
                                    Zend_Pdf_Font::EMBED_SUPPRESS_EMBED_EXCEPTION);
...
?&gt;
            </pre>
</div>
<p>
        This suppression technique is preferred if you allow an end-user to choose their own fonts. Fonts
        which can be embedded in the PDF document will be; those that cannot, won't.
        </p>
<p>
        Font programs can be rather large, some reaching into the tens of megabytes. By default, all embedded
        fonts are compressed using the Flate compression scheme, resulting in a space savings of 50% on average.
        If, for some reason, you do not want to compress the font program, you can disable it with an option:
        </p>
<div class="example">
<a name="id4865645"></a><p class="title"><b>Exemple 20.11. Do not compress an embedded font.</b></p>
<pre class="programlisting">&lt;?php
...
$font = Zend_Pdf_Font::fontWithPath('/path/to/someReallyBigFont.ttf',
                                    Zend_Pdf_Font::EMBED_DONT_COMPRESS);
...
?&gt;
            </pre>
</div>
<p>
        Finally, when necessary, you can combine the embedding options by using the bitwise OR operator:
        </p>
<div class="example">
<a name="id4865671"></a><p class="title"><b>Exemple 20.12. Combining font embedding options.</b></p>
<pre class="programlisting">&lt;?php
...
$font = Zend_Pdf_Font::fontWithPath($someUserSelectedFontPath,
                                    (Zend_Pdf_Font::EMBED_SUPPRESS_EMBED_EXCEPTION |
                                     Zend_Pdf_Font::EMBED_DONT_COMPRESS));
...
?&gt;
            </pre>
</div>
</div>
<div class="sect2" lang="fr">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.image-drawing"></a>20.5.6. Insertion d'images</h3></div></div></div>
<p>
        La classe <code class="code">Zend_Pdf_Page</code> fournis la méthode d<code class="code">rawImage()</code> pour dessiner une image :
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Insère une image à la position spécifié dans la page
 *
 * @param Zend_Pdf_Image $image
 * @param float $x1
 * @param float $y1
 * @param float $x2
 * @param float $y2
 */
public function drawImage(Zend_Pdf_Image $image, $x1, $y1, $x2, $y2);
            </pre>
<p>
        </p>
<p>
         Les objets Image hérite de la classe <code class="code">Zend_Pdf_Image</code>.
        </p>
<p>
         Seul les images au format JPG sont supportés pour le moment:
        </p>
<div class="example">
<a name="id4860695"></a><p class="title"><b>Exemple 20.13. Insertion d'images</b></p>
<pre class="programlisting">&lt;?php
...
$image = new Zend_Pdf_Image_JPEG('my_image.jpg');
$pdfPage-&gt;drawImage($image, 100, 100, 400, 300);;
...
?&gt;
            </pre>
</div>
<p>
            <span class="emphasis"><em>Important! La classe Zend_Pdf_Image_JPEG nécessite que l'extension PHP GD soit installé.</em></span>
        </p>
<p>
             Lisez la documentation de PHP pour plus d'informations
            (<a href="http://www.php.net/manual/fr/ref.image.php" target="_top">http://www.php.net/manual/fr/ref.image.php</a>).
        </p>
</div>
<div class="sect2" lang="fr">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.line-drawing-style"></a>20.5.7. Style de lignes</h3></div></div></div>
<p>
         Le style de ligne est définit par l'épaisseur, la couleur et le style de tiret.
         Tout ces paramètres peuvent être assigné par les méthodes de la classe <code class="code">Zend_Pdf_Page</code> :
        </p>
<p>
            </p>
<pre class="programlisting">
/** Choisis la couleur de ligne. */
public function setLineColor(Zend_Pdf_Color $color);

/** Choisis l'épaisseur de ligne. */
public function setLineWidth(float $width);

/**
 * Choisis le modèle de tiret.
 *
 * Le modèle est un tableau de floats: array(longueur_visible, longueur_invisible, longueur_visible, longueur_invisible, ...)
 * phase est le décallage à partir du début de la ligne.
 *
 * @param array $pattern
 * @param array $phase
 */
public function setLineDashingPattern($pattern, $phase = 0);
            </pre>
<p>
        </p>
</div>
<div class="sect2" lang="fr">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.fill-style"></a>20.5.8. Style de remplissage</h3></div></div></div>
<p>
         Les méthodes <code class="code">Zend_Pdf_Page::drawRectangle()</code>, <code class="code">Zend_Pdf_Page::drawPoligon()</code>,
         <code class="code">Zend_Pdf_Page::drawCircle()</code> et <code class="code">Zend_Pdf_Page::drawEllipse()</code> prennent en argument optionel le type de
         remplissage: <code class="code">$fillType</code>. Il peut-être :
        </p>
<div class="itemizedlist"><ul type="disc">
<li><p>Zend_Pdf_Page::SHAPE_DRAW_STROKE - trace le contour de la forme</p></li>
<li><p>Zend_Pdf_Page::SHAPE_DRAW_FILL - remplit la forme</p></li>
<li><p>Zend_Pdf_Page::SHAPE_DRAW_FILL_AND_STROKE - remplissage et contour (par défaut)</p></li>
</ul></div>
<p>
         La méthode <code class="code">Zend_Pdf_Page::drawPoligon()</code> prend aussi paramètre supplémentaire <code class="code">$fillMethod</code> :
        </p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>$fillMethod = Zend_Pdf_Page::FILL_METHOD_NON_ZERO_WINDING (par défaut)</p>
<p>
                 La <em class="citetitle">référence du format PDF</em> descrit la règle comme ceci :
                </p>
<div class="blockquote"><blockquote class="blockquote"><p>
The nonzero winding number rule determines whether a given point is inside a
path by conceptually drawing a ray from that point to infinity in any direction
and then examining the places where a segment of the path crosses the ray. Starting
with a count of 0, the rule adds 1 each time a path segment crosses the ray
from left to right and subtracts 1 each time a segment crosses from right to left.
After counting all the crossings, if the result is 0 then the point is outside the path;
otherwise it is inside.

Note: The method just described does not specify what to do if a path segment coincides
with or is tangent to the chosen ray. Since the direction of the ray is arbitrary,
the rule simply chooses a ray that does not encounter such problem intersections.
For simple convex paths, the nonzero winding number rule defines the inside
and outside as one would intuitively expect. The more interesting cases are those
involving complex or self-intersecting paths like the ones shown in Figure 4.10
(in a PDF Reference).

For a path consisting of a five-pointed star, drawn with five connected straight
line segments intersecting each other, the rule considers the inside to be the entire
area enclosed by the star, including the pentagon in the center. For a path composed
of two concentric circles, the areas enclosed by both circles are considered
to be inside, provided that both are drawn in the same direction. If the circles are
drawn in opposite directions, only the "doughnut" shape between them is inside,
according to the rule; the "doughnut hole" is outside.
                </p></blockquote></div>
<p>
            </p>
</li>
<li>
<p>Zend_Pdf_Page::FILL_METHOD_EVEN_ODD</p>
<p>
                La <em class="citetitle">référence du format PDF</em> descrit la règle comme ceci :
                </p>
<div class="blockquote"><blockquote class="blockquote"><p>
An alternative to the nonzero winding number rule is the even-odd rule. This rule
determines the "insideness" of a point by drawing a ray from that point in any
direction and simply counting the number of path segments that cross the ray,
regardless of direction. If this number is odd, the point is inside; if even, the point
is outside. This yields the same results as the nonzero winding number rule for
paths with simple shapes, but produces different results for more complex
shapes.

Figure 4.11 (in a PDF Reference) shows the effects of applying the even-odd rule
to complex paths. For the five-pointed star, the rule considers the triangular
points to be inside the path, but not the pentagon in the center. For the two
concentric circles, only the "doughnut" shape between the two circles is considered inside,
regardless of the directions in which the circles are drawn.
                    </p></blockquote></div>
<p>
            </p>
</li>
</ul></div>
</div>
<div class="sect2" lang="fr">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.rotations"></a>20.5.9. Rotations.</h3></div></div></div>
<p>
         Les pages PDF peuvent être roter avant appliquer les opérations de dessin. Cela peut-être fait en utilisant la méthode <code class="code">Zend_Pdf_Page::rotate()</code> :
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Effectue une rotation de la page autour du point ($x, $y), l'angle est en radians.
 *
 * @param float $angle
 */
public function rotate($x, $y, $angle);
            </pre>
<p>
        </p>
</div>
<div class="sect2" lang="fr">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.save-restore"></a>20.5.10. Sauvegarder et restaurer l'état graphique.</h3></div></div></div>
<p>
         L'état graphique (police courante, taille de caractère, couleur de ligne, couleur de remplissage, style de ligne, sens de la page, zone de dessin)
         peut-être sauvegarder à tout moment. L'opération de sauvegarde empile le contexte dans une pile de contexte graphique, l'opération de restauration
         récupère le contexte depuis la pile.
        </p>
<p>
         Il y a deux méthodes dans la classe <code class="code">Zend_Pdf_Page</code>  pour réaliser ces opérations :
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Sauvegarde l'état graphique de la page.
 * Cela prend un instantané des styles courant, des zones de dessins
 * et de toutes les rotations/translations/changements de taille appliqués.
 */
public function saveGS();

/**
 * Restaure le dernier état graphique sauvegarder avec saveGS().
 */
public function restoreGS();
            </pre>
<p>
        </p>
</div>
<div class="sect2" lang="fr">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.clipping"></a>20.5.11. Zone de dessins</h3></div></div></div>
<p>
         Le format PDF et le module Zend_Pdf supporte le découpage de la zone de dessin.
         La zone de dessins courante limite la zone de la page affecté par l'utilisation des opérateurs de dessins.
         Initialement c'est toute la page.
        </p>
<p>
         La classe <code class="code">Zend_Pdf_Page</code> fournis des méthodes pour les opérations de découpage.
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Découpe la zone courante avec un rectangle.
 *
 * @param float $x1
 * @param float $y1
 * @param float $x2
 * @param float $y2
 */
public function clipRectangle($x1, $y1, $x2, $y2);
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Découpe la zone courante avec un polygone.
 *
 * @param array $x  - tableau de float (les coordonnées X des sommets)
 * @param array $y  - tableau de float (les coordonnées Y des sommets)
 * @param integer $fillMethod
 */
public function clipPolygon($x, $y, $fillMethod = Zend_Pdf_Page::FILL_METHOD_NON_ZERO_WINDING);
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Découpe la zone courante avec un cercle.
 *
 * @param float $x
 * @param float $y
 * @param float $radius
 * @param float $startAngle
 * @param float $endAngle
 */
public function clipCircle($x, $y, $radius, $startAngle = null, $endAngle = null);
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Découpe la zone courante avec une ellipse.
 *
 * Signatures des méthodes:
 * drawEllipse($x1, $y1, $x2, $y2);
 * drawEllipse($x1, $y1, $x2, $y2, $startAngle, $endAngle);
 *
 * @todo s'occuper des cas speciaux avec $x2-$x1 == 0 ou $y2-$y1 == 0
 *
 * @param float $x1
 * @param float $y1
 * @param float $x2
 * @param float $y2
 * @param float $startAngle
 * @param float $endAngle
 */
public function clipEllipse($x1, $y1, $x2, $y2, $startAngle = null, $endAngle = null);
            </pre>
<p>
        </p>
</div>
<div class="sect2" lang="fr">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.styles"></a>20.5.12. Styles</h3></div></div></div>
<p>
         La classe <code class="code">Zend_Pdf_Style</code> fournis les fonctionnalités de style.
        </p>
<p>
        Les styles peuvent être utilisé pour stocker des paramètre d'état graphique et de les appliquer à une page PDF en une opération :
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Choisis le style à utiliser pour les futur opération de dessin sur cette page
 *
 * @param Zend_Pdf_Style $style
 */
public function setStyle(Zend_Pdf_Style $style);

/**
 * Renvoi le style appliqué à la page.
 *
 * @return Zend_Pdf_Style|null
 */
public function getStyle();
            </pre>
<p>
        </p>
<p>
         La classe <code class="code">Zend_Pdf_Style</code> fournie des méthodes pour choisir ou récupérer différents paramètre de l'état graphique :
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Choisis la couleur de ligne.
 *
 * @param Zend_Pdf_Color $color
 */
public function setLineColor(Zend_Pdf_Color $color);
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Récupère la couleur de ligne.
 *
 * @return Zend_Pdf_Color|null
 */
public function getLineColor();
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Choisis l'épaisseur de ligne.
 *
 * @param float $width
 */
public function setLineWidth($width);
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Récupère l'épaisseur de ligne.
 *
 * @return float
 */
public function getLineWidth($width);
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Choisis le style de tirets
 *
 * @param array $pattern
 * @param float $phase
 */
public function setLineDashingPattern($pattern, $phase = 0);
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Récupère le style de tirets
 *
 * @return array
 */
public function getLineDashingPattern();
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Récupère le modèle de tiret
 *
 * @return float
 */
public function getLineDashingPhase();
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Choisis la couleur de remplissage.
 *
 * @param Zend_Pdf_Color $color
 */
public function setFillColor(Zend_Pdf_Color $color);
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Récupère la couleur de remplissage.
 *
 * @return Zend_Pdf_Color|null
 */
public function getFillColor();
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Choisis la police.
 *
 * @param Zend_Pdf_Font $font
 * @param Zend_Pdf_Resource_Font $font
 * @param float $fontSize
 */
public function setFont(Zend_Pdf_Resource_Font $font, $fontSize);
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Modifie la taille de police.
 *
 * @param float $fontSize
 */
public function setFontSize($fontSize);
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Récupère la police courante
 *
 * @return Zend_Pdf_Resource_Font $font
 */
public function getFont();
            </pre>
<p>
        </p>
<p>
            </p>
<pre class="programlisting">
/**
 * Récupère la taille de la police
 *
 * @return float $fontSize
 */
public function getFontSize();
            </pre>
<p>
        </p>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.pdf.pages.html">Précédent</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.pdf.html">Niveau supérieur</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.pdf.usage.html">Suivant</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">20.4. Les pages d'un document </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td>
<td width="40%" align="right" valign="top"> 20.6. Exemple d'utilisation du module Zend_Pdf</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
