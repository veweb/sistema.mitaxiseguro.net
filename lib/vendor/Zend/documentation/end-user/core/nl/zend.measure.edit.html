<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>18.4. Manipulating measurements</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="index.html" title="Referentiegids voor de programmeur">
<link rel="up" href="zend.measure.html" title="Hoofdstuk 18. Zend_Measure">
<link rel="prev" href="zend.measure.output.html" title="18.3. Outputting measurements">
<link rel="next" href="zend.measure.special.html" title="18.5. Special functions">
<link rel="chapter" href="zend.html" title="Hoofdstuk 1. Zend">
<link rel="chapter" href="zend.acl.html" title="Hoofdstuk 2. Zend_Acl">
<link rel="chapter" href="zend.auth.html" title="Hoofdstuk 3. Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="Hoofdstuk 4. Zend_Cache">
<link rel="chapter" href="zend.config.html" title="Hoofdstuk 5. Zend_Config">
<link rel="chapter" href="zend.console.getopt.html" title="Hoofdstuk 6. Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="Hoofdstuk 7. Zend_Controller">
<link rel="chapter" href="zend.date.html" title="Hoofdstuk 8. Zend_Date">
<link rel="chapter" href="zend.db.html" title="Hoofdstuk 9. Zend_Db">
<link rel="chapter" href="zend.feed.html" title="Hoofdstuk 10. Zend_Feed">
<link rel="chapter" href="zend.filter.html" title="Hoofdstuk 11. Zend_Filter">
<link rel="chapter" href="zend.gdata.html" title="Hoofdstuk 12. Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="Hoofdstuk 13. Zend_Http">
<link rel="chapter" href="zend.json.html" title="Hoofdstuk 14. Zend_Json">
<link rel="chapter" href="zend.locale.html" title="Hoofdstuk 15. Zend_Locale">
<link rel="chapter" href="zend.log.html" title="Hoofdstuk 16. Zend_Log">
<link rel="chapter" href="zend.mail.html" title="Hoofdstuk 17. Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="Hoofdstuk 18. Zend_Measure">
<link rel="chapter" href="zend.mime.html" title="Hoofdstuk 19. Zend_Mime">
<link rel="chapter" href="zend.pdf.html" title="Hoofdstuk 20. Zend_Pdf">
<link rel="chapter" href="zend.rest.html" title="Hoofdstuk 21. Zend_Rest">
<link rel="chapter" href="zend.search.html" title="Hoofdstuk 22. Zend_Search">
<link rel="chapter" href="zend.server.html" title="Hoofdstuk 23. Zend_Server">
<link rel="chapter" href="zend.service.html" title="Hoofdstuk 24. Zend_Service">
<link rel="chapter" href="zend.session.html" title="Hoofdstuk 25. Zend_Session">
<link rel="chapter" href="zend.uri.html" title="Hoofdstuk 26. Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="Hoofdstuk 27. Zend_Validate">
<link rel="chapter" href="zend.view.html" title="Hoofdstuk 28. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Hoofdstuk 29. Zend_XmlRpc">
<link rel="appendix" href="coding-standard.html" title="Bijlage A. Zend Framework Programmeer Standaard">
<link rel="appendix" href="copyrights.html" title="Bijlage B. Auteursrechtinformatie">
<link rel="index" href="the.index.html" title="Register">
<link rel="subsection" href="zend.measure.edit.html#zend.measure.edit.convert" title="18.4.1. Convert">
<link rel="subsection" href="zend.measure.edit.html#zend.measure.edit.add" title="18.4.2. Add and subtract">
<link rel="subsection" href="zend.measure.edit.html#zend.measure.edit.equal" title="18.4.3. Compare">
<link rel="subsection" href="zend.measure.edit.html#zend.measure.edit.compare" title="18.4.4. Calculate differences">
<link rel="subsection" href="zend.measure.edit.html#zend.measure.edit.changevalue" title="18.4.5. Manually change values">
<link rel="subsection" href="zend.measure.edit.html#zend.measure.edit.changetype" title="18.4.6. Manually change types">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">18.4. Manipulating measurements</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.measure.output.html">Terug</a> </td>
<th width="60%" align="center">Hoofdstuk 18. Zend_Measure</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.measure.special.html">Volgende</a>
</td>
</tr>
</table></div>
<div class="sect1" lang="nl">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.measure.edit"></a>18.4. Manipulating measurements</h2></div></div></div>
<p>
        Parsing and normalization of input, combined with output to localized notations makes data accessible to users
        in different locales. Many additional methods exist in <code class="code">Zend_Measure</code> components to manipulate and
        work with this data, after it has been normalized.
    </p>
<div class="itemizedlist"><ul type="disc">
<li><p>
                <a href="zend.measure.edit.html#zend.measure.edit.convert" title="18.4.1. Convert"><code class="code">Convert</code>
                </a>
            </p></li>
<li><p>
                <a href="zend.measure.edit.html#zend.measure.edit.add" title="18.4.2. Add and subtract"><code class="code">Add and subtract</code>
                </a>
            </p></li>
<li><p>
                <a href="zend.measure.edit.html#zend.measure.edit.equal" title="18.4.3. Compare"><code class="code">Compare</code>
                </a>
            </p></li>
<li><p>
                <a href="zend.measure.edit.html#zend.measure.edit.compare" title="18.4.4. Calculate differences"><code class="code">Calculate differences</code>
                </a>
            </p></li>
<li><p>
                <a href="zend.measure.edit.html#zend.measure.edit.changevalue" title="18.4.5. Manually change values"><code class="code">Manually change values</code>
                </a>
            </p></li>
<li><p>
                <a href="zend.measure.edit.html#zend.measure.edit.changetype" title="18.4.6. Manually change types"><code class="code">Manually change types</code>
                </a>
            </p></li>
</ul></div>
<div class="sect2" lang="nl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.measure.edit.convert"></a>18.4.1. Convert</h3></div></div></div>
<p>
            Probably the most important feature is the conversion into different units of measurement. The conversion of
            a unit can be done any number of times using the method <code class="code">convertTo()</code>. Units of measurement can
            only be converted to other units of the same type. Therefore, it is not possible to convert (e.g.) a length
            into a weight, which would allow bad programming practice and allow errors to propagate without exceptions.
        </p>
<div class="example">
<a name="id4849172"></a><p class="title"><b>Voorbeeld 18.10. Convert</b></p>
<pre class="programlisting">&lt;?php
require_once 'Zend.php';
Zend::loadClass('Zend_Measure');
Zend::loadClass('Zend_Measure_Weight');

$locale = new Zend_Locale('de');
$mystring = "1.234.567,89";
$unit = new Zend_Measure($mystring,Zend_Measure_Weight::POUND, $locale);

print "Kilo:".$unit-&gt;convertTo(Zend_Measure_Weight::KILOGRAM);
print "Ton:".$unit-&gt;convertTo(Zend_Measure_Weight::TON);
?&gt;</pre>
</div>
</div>
<div class="sect2" lang="nl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.measure.edit.add"></a>18.4.2. Add and subtract</h3></div></div></div>
<p>
            Measurements can be added together using <code class="code">add()</code> and subtracted using <code class="code">sub()</code>. Each
            addition will create a new object for the result. The actual object will never be changed by the class. The
            new object will be of the same type as the originating object. Dynamic objects support a fluid style of
            programming, where complex sequences of operations can be nested without risk of side-effects altering the
            input objects.
        </p>
<p>
            </p>
<div class="example">
<a name="id4849224"></a><p class="title"><b>Voorbeeld 18.11. Adding units</b></p>
<pre class="programlisting">&lt;?php
require_once 'Zend.php';
Zend::loadClass('Zend_Measure');
Zend::loadClass('Zend_Measure_Length');

// Define objects
$unit = new Zend_Measure(200,Zend_Measure_Length::CENTIMETER);
$unit2 = new Zend_Measure(1,Zend_Measure_Length::METER);

// Add $unit2 to $unit 
$sum = $unit-&gt;add($unit2);

echo $sum;
?&gt;</pre>
</div>
<p>
        </p>
<div class="note"><table border="0" summary="Note: Automatic conversion">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Opmerking]" src="images/note.png"></td>
<th align="left">Automatic conversion</th>
</tr>
<tr><td align="left" valign="top"><p>
                Adding one object to another will automatically convert it to the correct unit. It is not neccessary to
                call
                <a href="zend.measure.edit.html#zend.measure.edit.convert" title="18.4.1. Convert"><code class="code">convertTo()</code>
                </a>
                before adding different units.
            </p></td></tr>
</table></div>
<p>
            </p>
<div class="example">
<a name="id4849270"></a><p class="title"><b>Voorbeeld 18.12. Subtract</b></p>
<p>
                    Subtraction of measurements works just like addition.
                </p>
<pre class="programlisting">&lt;?php
require_once 'Zend.php';
Zend::loadClass('Zend_Measure');
Zend::loadClass('Zend_Measure_Length');

// Define objects
$unit = new Zend_Measure(200,Zend_Measure_Length::CENTIMETER);
$unit2 = new Zend_Measure(1,Zend_Measure_Length::METER);

// Subtract $unit2 from $unit
$sum = $unit-&gt;sub($unit2);

echo $sum;
?&gt;</pre>
</div>
<p>
        </p>
</div>
<div class="sect2" lang="nl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.measure.edit.equal"></a>18.4.3. Compare</h3></div></div></div>
<p>
            Measurements can also be compared, but without automatic unit conversion. Thus, <code class="code">equals()</code>
            returns <code class="code">TRUE</code>, only if both the value and the unit of measure are identical.
        </p>
<p>
            </p>
<div class="example">
<a name="id4849322"></a><p class="title"><b>Voorbeeld 18.13. Different measurements</b></p>
<pre class="programlisting">&lt;?php
require_once 'Zend.php';
Zend::loadClass('Zend_Measure');
Zend::loadClass('Zend_Measure_Length');

// Define measurements
$unit = new Zend_Measure(100,Zend_Measure_Length::CENTIMETER);
$unit2 = new Zend_Measure(1,Zend_Measure_Length::METER);

if ($unit-&gt;equals($unit2)) {
    print "Both measurements are identical";
} else {
    print "These are different measurements";
}
?&gt;</pre>
</div>
<p>
            </p>
<div class="example">
<a name="id4849336"></a><p class="title"><b>Voorbeeld 18.14. Identical measurements</b></p>
<pre class="programlisting">&lt;?php
require_once 'Zend.php';
Zend::loadClass('Zend_Measure');
Zend::loadClass('Zend_Measure_Length');

// Define measurements
$unit = new Zend_Measure(100,Zend_Measure_Length::CENTIMETER);
$unit2 = new Zend_Measure(1,Zend_Measure_Length::METER);

$unit2-&gt;setType(Zend_Measure_Length::CENTIMETER);

if ($unit-&gt;equals($unit2)) {
    print "Both measurements are identical";
} else {
    print "These are different measurements";
}
?&gt;</pre>
</div>
<p>
        </p>
</div>
<div class="sect2" lang="nl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.measure.edit.compare"></a>18.4.4. Calculate differences</h3></div></div></div>
<p>
            To determine if a measurement is less than or greater than another, use <code class="code">compare()</code>, which
            returns the difference between two objects as an integer value. Identical measurements will return 0. Lesser
            ones will return a negative, greater ones a positive value.
        </p>
<p>
            </p>
<div class="example">
<a name="id4849391"></a><p class="title"><b>Voorbeeld 18.15. Difference</b></p>
<pre class="programlisting">&lt;?php
require_once 'Zend.php';
Zend::loadClass('Zend_Measure');
Zend::loadClass('Zend_Measure_Length');

$unit = new Zend_Measure(100,Zend_Measure_Length::CENTIMETER);
$unit2 = new Zend_Measure(1,Zend_Measure_Length::METER);
$unit3 = new Zend_Measure(1.2,Zend_Measure_Length::METER);

print "Equal:".$unit2-&gt;compare($unit);
print "Greater:".$unit2-&gt;compare($unit3);
print "Lesser:".$unit3-&gt;compare($unit2);
?&gt;</pre>
</div>
<p>
        </p>
</div>
<div class="sect2" lang="nl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.measure.edit.changevalue"></a>18.4.5. Manually change values</h3></div></div></div>
<p>
            To change the value of a measurement explicitly, use <code class="code">setValue()</code>. to overwrite the current
            value. The parameters are the same as the constructor.
        </p>
<p>
            </p>
<div class="example">
<a name="id4849438"></a><p class="title"><b>Voorbeeld 18.16. Changing a value</b></p>
<pre class="programlisting">&lt;?php
require_once 'Zend.php';
Zend::loadClass('Zend_Measure');
Zend::loadClass('Zend_Measure_Length');

$locale = new Zend_Locale('de_AT');
$unit = new Zend_Measure(1,Zend_Measure_Length::METER);

$unit-&gt;setValue(1.2);
echo $unit;

$unit-&gt;setValue(1.2,Zend_Measure_Length::KILOMETER);
echo $unit;

$unit-&gt;setValue("1.234,56",Zend_Measure_Length::MILLIMETER,$locale);
echo $unit;
?&gt;</pre>
</div>
<p>
        </p>
</div>
<div class="sect2" lang="nl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.measure.edit.changetype"></a>18.4.6. Manually change types</h3></div></div></div>
<p>
            To change the type of a measurement without altering its value use <code class="code">setType()</code>.
        </p>
<div class="example">
<a name="id4849479"></a><p class="title"><b>Voorbeeld 18.17. Changing the type</b></p>
<pre class="programlisting">&lt;?php
require_once 'Zend.php';
Zend::loadClass('Zend_Measure');
Zend::loadClass('Zend_Measure_Length');

$unit = new Zend_Measure(1,Zend_Measure_Length::METER);

// output: 1 m
echo $unit;

// output: 1 km
$unit-&gt;setType(Zend_Measure_Length::KILOMETER);
echo $unit;
?&gt;</pre>
</div>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.measure.output.html">Terug</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.measure.html">Omhoog</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.measure.special.html">Volgende</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">18.3. Outputting measurements </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td>
<td width="40%" align="right" valign="top"> 18.5. Special functions</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
