<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>7.2. Om te beginnen</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="index.html" title="Referentiegids voor de programmeur">
<link rel="up" href="zend.controller.html" title="Hoofdstuk 7. Zend_Controller">
<link rel="prev" href="zend.controller.html" title="Hoofdstuk 7. Zend_Controller">
<link rel="next" href="zend.controller.subclassing.html" title="7.3. Onderklassen">
<link rel="chapter" href="zend.html" title="Hoofdstuk 1. Zend">
<link rel="chapter" href="zend.acl.html" title="Hoofdstuk 2. Zend_Acl">
<link rel="chapter" href="zend.auth.html" title="Hoofdstuk 3. Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="Hoofdstuk 4. Zend_Cache">
<link rel="chapter" href="zend.config.html" title="Hoofdstuk 5. Zend_Config">
<link rel="chapter" href="zend.console.getopt.html" title="Hoofdstuk 6. Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="Hoofdstuk 7. Zend_Controller">
<link rel="chapter" href="zend.date.html" title="Hoofdstuk 8. Zend_Date">
<link rel="chapter" href="zend.db.html" title="Hoofdstuk 9. Zend_Db">
<link rel="chapter" href="zend.feed.html" title="Hoofdstuk 10. Zend_Feed">
<link rel="chapter" href="zend.filter.html" title="Hoofdstuk 11. Zend_Filter">
<link rel="chapter" href="zend.gdata.html" title="Hoofdstuk 12. Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="Hoofdstuk 13. Zend_Http">
<link rel="chapter" href="zend.json.html" title="Hoofdstuk 14. Zend_Json">
<link rel="chapter" href="zend.locale.html" title="Hoofdstuk 15. Zend_Locale">
<link rel="chapter" href="zend.log.html" title="Hoofdstuk 16. Zend_Log">
<link rel="chapter" href="zend.mail.html" title="Hoofdstuk 17. Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="Hoofdstuk 18. Zend_Measure">
<link rel="chapter" href="zend.mime.html" title="Hoofdstuk 19. Zend_Mime">
<link rel="chapter" href="zend.pdf.html" title="Hoofdstuk 20. Zend_Pdf">
<link rel="chapter" href="zend.rest.html" title="Hoofdstuk 21. Zend_Rest">
<link rel="chapter" href="zend.search.html" title="Hoofdstuk 22. Zend_Search">
<link rel="chapter" href="zend.server.html" title="Hoofdstuk 23. Zend_Server">
<link rel="chapter" href="zend.service.html" title="Hoofdstuk 24. Zend_Service">
<link rel="chapter" href="zend.session.html" title="Hoofdstuk 25. Zend_Session">
<link rel="chapter" href="zend.uri.html" title="Hoofdstuk 26. Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="Hoofdstuk 27. Zend_Validate">
<link rel="chapter" href="zend.view.html" title="Hoofdstuk 28. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Hoofdstuk 29. Zend_XmlRpc">
<link rel="appendix" href="coding-standard.html" title="Bijlage A. Zend Framework Programmeer Standaard">
<link rel="appendix" href="copyrights.html" title="Bijlage B. Auteursrechtinformatie">
<link rel="index" href="the.index.html" title="Register">
<link rel="subsection" href="zend.controller.getting-started.html#zend.controller.getting-started.introduction" title="7.2.1. Inleiding">
<link rel="subsection" href="zend.controller.getting-started.html#zend.controller.getting-started.server-configuration" title="7.2.2. Server Configuratie">
<link rel="subsection" href="zend.controller.getting-started.html#zend.controller.getting-started.bootstrap" title="7.2.3. Bootstrap Bestand">
<link rel="subsection" href="zend.controller.getting-started.html#zend.controller.getting-started.directory-structure" title="7.2.4. Mappenstructuur">
<link rel="subsection" href="zend.controller.getting-started.html#zend.controller.overview.indexcontroller" title="7.2.5. IndexController">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">7.2. Om te beginnen</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.controller.html">Terug</a> </td>
<th width="60%" align="center">Hoofdstuk 7. Zend_Controller</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.controller.subclassing.html">Volgende</a>
</td>
</tr>
</table></div>
<div class="sect1" lang="nl">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.controller.getting-started"></a>7.2. Om te beginnen</h2></div></div></div>
<div class="sect2" lang="nl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.controller.getting-started.introduction"></a>7.2.1. Inleiding</h3></div></div></div>
<p>
			Het <code class="code">Zend_Controller</code> systeem werd gebouwd met uitbreiding
			in het hoofd, ofwel door het onderklassen (subclassing) van de bestaande
			klassen of door het schrijven van nieuwe klassen die de interfaces
			van <code class="code">Zend_Controller_Router_Interface</code> en <code class="code">Zend_Controller_Dispatcher_Interface</code>
			implementeren.
		</p>
</div>
<div class="sect2" lang="nl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.controller.getting-started.server-configuration"></a>7.2.2. Server Configuratie</h3></div></div></div>
<p>
			Zend_Controller is gebouwd om moderne websites met "propere" URIs (weinig of geen query parameters)
			te ondersteunen.
			Als zodanig heeft de voorgestelde configuratie de hulp nodig van de webserver in de vorm van het
			herschrijven van de URI zodat alle aanvragen naar een enkel bestand kunnen worden doorgestuurd.
			Dit bestand heet "index.php" en is een bootstrap voor <code class="code">Zend_Controller_Front</code>.
			Op Apache webservers word dit afgehandeld door de optionele module "mod_rewrite".
		</p>
<p>
			De eerste stap om de server te configureren is het succesvol installeren en activeren van "mod_rewrite".
			De volgende stap is het schrijven van twee bestanden in de document root: .htaccess en index.php.
			Het .htaccess bestand wordt door Apache gebruikt en moet een mod_rewrite regel bevatten die alle
			aanvragen naar index.php doorstuurt. Voor ontwikkelingsdoelen is het vaak eenvoudiger om een
			mod_rewrite regel te schrijven die alle aanvragen doorstuurt naar index.php, behalve een paar
			bestandsextensies. Hier is een voorbeeld van zulk een bestand:
        </p>
<pre class="programlisting">
RewriteEngine on
RewriteRule !\.(js|ico|gif|jpg|png|css)$ index.php
</pre>
<p>
			In het voorbeeld hierboven worden alle aanvragen voor bestanden waarvan de extensie niet in de lijst staan naar
			index.php doorgestuurd. Dit is handig voor het ontwikkelen, maar in productie zouden de regels mappen
			moeten uitsluiten, geen bestandsextensies.
		</p>
</div>
<div class="sect2" lang="nl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.controller.getting-started.bootstrap"></a>7.2.3. Bootstrap Bestand</h3></div></div></div>
<p>
			Na het opzetten van het .htaccess bestand, moet je een nieuw bestand <code class="code">index.php</code> aanmaken.
			Dit is een bootstrap bestand. Het doel van index.php is enkel het bootstrappen van 
			Zend_Controller_Front, die zich bij voorkeur buiten de documentroot zou moeten bevinden.
		</p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Opmerking]" src="images/note.png"></td>
<th align="left">Opmerking</th>
</tr>
<tr><td align="left" valign="top"><p>
			Het bootstrap bestand zou het enige PHP bestand moeten zijn dat in de document root is opgeslagen.
	      </p></td></tr>
</table></div>
<p>
			Om veiligheidsredenen raadt Zend héél sterk aan geen PHP bestanden op te slaan in mappen die door
			de webserver toegankelijk zijn (submappen van de document root). Hoewel dit niet altijd
			mogelijk is, zoals bij gedeelde webhosting, zou dit moeten worden beschouwd als een
			"ideaal" en toegepast worden waar mogelijk.
		</p>
<p>
			Maak het bootstrap bestand, <code class="code">index.php</code>, in de document root om Zend_Controller_Front te
			bootstrappen:
        </p>
<pre class="programlisting">&lt;?php
				
require_once 'Zend/Controller/Front.php';

Zend_Controller_Front::run('/pad/naar/jouw/controllers');

?&gt;</pre>
<p>
			Zie de volgende sectie wat betreft <code class="code">/pad/naar/jouw/controllers</code>.

			Zoals aangegeven in <code class="code">README.txt</code> moet het Zend Framework pad in het <code class="code">include_path</code>
			staan. Indien dit niet in <code class="code">php.ini</code> geconfigureerd is, kan je <code class="code">set_include_path()</code> 
			gebruiken in dit bestand. Let op: doe dit vòòr <code class="code">require_once</code>.
		</p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Opmerking]" src="images/note.png"></td>
<th align="left">Opmerking</th>
</tr>
<tr><td align="left" valign="top"><p>
			Momenteel proberen we oplossingen te vinden die zonder de installatie van mod_rewrite kunnen werken. We
			denken aan een configuratieregel voor systemen met en zonder mod_rewrite mogelijkheden. Gelieve er
			nota van te nemen dat dit systeem niet specifiek aan Apache of mod_rewrite gebonden is, elke
			webserver met gelijkaardige doorstuurmogelijkheden (redirect capabilities) zou moeten volstaan.
		  </p></td></tr>
</table></div>
</div>
<div class="sect2" lang="nl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.controller.getting-started.directory-structure"></a>7.2.4. Mappenstructuur</h3></div></div></div>
<p>
			Het is aanbevolen dat websites gebouwd met de Zend Framework een gemeenschappelijke mappenstructuur
			hebben. Dit niet in alle gevallen mogelijk, maar toch voor velen en waarschijnlijk
			de meeste. De keuze voor deze regel is aanbevolen omdat die jouw code gemakkelijker begrijpbaar zal maken voor
			iemand die de Zend Framework overeenkomsten kent.
		</p>
<p>	
			De voorgestelde mappenstructuur bestaat uit zowel bibliotheekmappen (van Zend en elders) en
			toepassingsmappen.
        </p>
<pre class="programlisting">
/application
  /models
  /views
  /controllers
/document_root
  /images
  /styles
  .htaccess
  index.php
/library
  /Zend
</pre>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Opmerking]" src="images/note.png"></td>
<th align="left">Opmerking</th>
</tr>
<tr><td align="left" valign="top"><p>
			Deze sectie is nog niet compleet. Ze is nog in opbouw en zal hoogstwaarschijnlijk veranderen.
	      </p></td></tr>
</table></div>
</div>
<div class="sect2" lang="nl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.controller.overview.indexcontroller"></a>7.2.5. IndexController</h3></div></div></div>
<p>
			Elke site moet een controller genaamd <code class="code">IndexController</code> definiëren. Dit is de
			controller die wordt bereikt indien geen enkele controller werd gespecificeerd in de URI,
			zoals in volgende URI:
        </p>
<pre class="programlisting">
http://framework.zend.com/
</pre>
<p>
			De <code class="code">IndexController</code> klasse moet ondergebracht worden in een bestand genaamd
			<code class="code">IndexController.php</code>, en dat bestand moet in de map "controllers" worden opgeslaan.
			De <code class="code">IndexController</code> moet <code class="code">Zend_Controller_Action</code> onderklassen.
			Hier is een voorbeeld van een <code class="code">IndexController</code>:
        </p>
<pre class="programlisting">&lt;?php
				
require_once 'Zend/Controller/Action.php';

class IndexController extends Zend_Controller_Action 
{
	public function indexAction()
	{
		echo 'Hallo vanwege de IndexController';
	}

	public function noRouteAction()
	{
		$this-&gt;_redirect('/');
	}
}

?&gt;</pre>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Opmerking]" src="images/note.png"></td>
<th align="left">Opmerking</th>
</tr>
<tr><td align="left" valign="top"><p>
		    Deze sectie is nog niet compleet. Ze is nog in opbouw en zal hoogstwaarschijnlijk veranderen.
		  </p></td></tr>
</table></div>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.controller.html">Terug</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.controller.html">Omhoog</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.controller.subclassing.html">Volgende</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Hoofdstuk 7. Zend_Controller </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td>
<td width="40%" align="right" valign="top"> 7.3. Onderklassen</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
