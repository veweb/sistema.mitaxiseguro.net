<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>28.4. View Helpers</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="index.html" title="Referentiegids voor de programmeur">
<link rel="up" href="zend.view.html" title="Hoofdstuk 28. Zend_View">
<link rel="prev" href="zend.view.scripts.html" title="28.3. View Scripts">
<link rel="next" href="zend.xmlrpc.html" title="Hoofdstuk 29. Zend_XmlRpc">
<link rel="chapter" href="zend.html" title="Hoofdstuk 1. Zend">
<link rel="chapter" href="zend.acl.html" title="Hoofdstuk 2. Zend_Acl">
<link rel="chapter" href="zend.auth.html" title="Hoofdstuk 3. Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="Hoofdstuk 4. Zend_Cache">
<link rel="chapter" href="zend.config.html" title="Hoofdstuk 5. Zend_Config">
<link rel="chapter" href="zend.console.getopt.html" title="Hoofdstuk 6. Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="Hoofdstuk 7. Zend_Controller">
<link rel="chapter" href="zend.date.html" title="Hoofdstuk 8. Zend_Date">
<link rel="chapter" href="zend.db.html" title="Hoofdstuk 9. Zend_Db">
<link rel="chapter" href="zend.feed.html" title="Hoofdstuk 10. Zend_Feed">
<link rel="chapter" href="zend.filter.html" title="Hoofdstuk 11. Zend_Filter">
<link rel="chapter" href="zend.gdata.html" title="Hoofdstuk 12. Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="Hoofdstuk 13. Zend_Http">
<link rel="chapter" href="zend.json.html" title="Hoofdstuk 14. Zend_Json">
<link rel="chapter" href="zend.locale.html" title="Hoofdstuk 15. Zend_Locale">
<link rel="chapter" href="zend.log.html" title="Hoofdstuk 16. Zend_Log">
<link rel="chapter" href="zend.mail.html" title="Hoofdstuk 17. Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="Hoofdstuk 18. Zend_Measure">
<link rel="chapter" href="zend.mime.html" title="Hoofdstuk 19. Zend_Mime">
<link rel="chapter" href="zend.pdf.html" title="Hoofdstuk 20. Zend_Pdf">
<link rel="chapter" href="zend.rest.html" title="Hoofdstuk 21. Zend_Rest">
<link rel="chapter" href="zend.search.html" title="Hoofdstuk 22. Zend_Search">
<link rel="chapter" href="zend.server.html" title="Hoofdstuk 23. Zend_Server">
<link rel="chapter" href="zend.service.html" title="Hoofdstuk 24. Zend_Service">
<link rel="chapter" href="zend.session.html" title="Hoofdstuk 25. Zend_Session">
<link rel="chapter" href="zend.uri.html" title="Hoofdstuk 26. Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="Hoofdstuk 27. Zend_Validate">
<link rel="chapter" href="zend.view.html" title="Hoofdstuk 28. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Hoofdstuk 29. Zend_XmlRpc">
<link rel="appendix" href="coding-standard.html" title="Bijlage A. Zend Framework Programmeer Standaard">
<link rel="appendix" href="copyrights.html" title="Bijlage B. Auteursrechtinformatie">
<link rel="index" href="the.index.html" title="Register">
<link rel="subsection" href="zend.view.helpers.html#zend.view.helpers.initial" title="28.4.1. Initiële Helpers">
<link rel="subsection" href="zend.view.helpers.html#zend.view.helpers.paths" title="28.4.2. Helper Paden">
<link rel="subsection" href="zend.view.helpers.html#zend.view.helpers.custom" title="28.4.3. Je eigen Helpers schrijven">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">28.4. View Helpers</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.view.scripts.html">Terug</a> </td>
<th width="60%" align="center">Hoofdstuk 28. Zend_View</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.xmlrpc.html">Volgende</a>
</td>
</tr>
</table></div>
<div class="sect1" lang="nl">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.view.helpers"></a>28.4. View Helpers</h2></div></div></div>
<p>
		In je view scripts is het dikwijls nodig een aantal complexe
		functies steeds weer uit te voeren, bv: een datum formateren,
		formulierelementen genereren of aktielinks afbeelden. Je kan
		helper klassen gebruiken om deze gedragingen voor jou uit te
		voeren.
    </p>
<p>
		Om een helper in jouw script te gebruiken moet je het oproepen
		door $this-&gt;helperName() te gebruiken. Achter de scène zal
		Zend_View de Zend_View_Helper klasse laden, een instantie van het
		objekt maken en zijn helperName() methode oproepen. De 
		instantie van het objekt is Behind the scenes, Zend_View will load the
        Zend_View_Helper_HelperName class, create an object instance of
        it, and call its helperName() method.  The object instance is
        blijvend in de Zend_View instantie, en is hergebruikt voor alle
		verdere oproepen aan $this-&gt;helperName().
    </p>
<div class="sect2" lang="nl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.initial"></a>28.4.1. Initiële Helpers</h3></div></div></div>
<p>
			Zend_View komt met een set van initiële helper klassen die
			allemaal relatief zijn aan formulierelementen generatie. Ze
			doen elk automatisch de juiste output escaping. Ze zijn:
        </p>
<div class="itemizedlist"><ul type="disc">
<li><p>
                formButton($name, $value, $attribs): Maakt een &lt;input
                type="button" /&gt; element.
            </p></li>
<li><p>
                formCheckbox($name, $value, $attribs, $options): maakt
                een &lt;input type="checkbox" /&gt; element.  De
                $options parameter is een array waar de eerste waarde de
                "checked" waarde is, en de tweede waarde de "unchecked" waarde
                (standaard waarden '1' en '0').  Als $value overeenkomt met de 
                "checked" waarde, zal de checkbox aangezet worden.
            </p></li>
<li><p>
                formFile($name, $value, $attribs): Maakt een &lt;input
                type="file" /&gt; element.
            </p></li>
<li><p>
                formHidden($name, $value, $attribs): Maakt een &lt;input
                type="hidden" /&gt; element.
            </p></li>
<li><p>
                formPassword($name, $value, $attribs): Maakt een &lt;input
                type="password" /&gt; element.
            </p></li>
<li><p>
                formRadio($name, $value, $attribs, $options): Maakt een serie
                &lt;input type="radio" /&gt; elementen, één voor elk van de
                $options elementen. In de $options array is de element
                key de radio waarde en de elementwaarde is de radiolabel.  
				De $value radio zal worden voorgeselecteerd.
            </p></li>
<li><p>
                formReset($name, $value, $attribs): Maakt een &lt;input
                type="reset" /&gt; element.
            </p></li>
<li><p>
                formSelect($name, $value, $attribs, $options): Maakt een
                &lt;select&gt;...&lt;/select&gt; blok met één 
                &lt;option&gt; voor elk van de $options elementen.  In
                de $options array is de element key de optiewaarde en de
				elementwaarde is de optielabel. De $value optie(s) 
				zal/zullen worden voorgeselecteerd.
            </p></li>
<li><p>
                formSubmit($name, $value, $attribs): Maakt een &lt;input
                type="submit" /&gt; element.
            </p></li>
<li><p>
                formText($name, $value, $attribs): Maakt een &lt;input
                type="text" /&gt; element.
            </p></li>
<li><p>
                formTextarea($name, $value, $attribs): Maakt een
                &lt;textarea&gt;...&lt;/textarea&gt; blok.
            </p></li>
</ul></div>
<p>
            Deze gebruiken in je scripts is heel eenvoudig. Hier is een voorbeeld.
			Merk op dat het enige je hoeft te doen is ze op te roepen, ze laden en 
			instantiëren zichzelf wanneer dat nodig is.
        </p>
<pre class="programlisting">&lt;?php
// binnenin je view script verwijst $this naar de Zend_View instantie.
// 
// veronderstel dat je reeds een serie select opties hebt toegewezen onder de naam
// $landen als Array('us' =&gt; 'Verenigde Staten', 'il' =&gt;
// 'Israël', 'be' =&gt; 'België', 'nl' =&gt; 'Nederland').
?&gt;
&lt;form action="aktie.php" method="post"&gt;
    &lt;p&gt;&lt;label&gt;Jouw Email:
        &lt;?php echo $this-&gt;formText('email', 'you@example.com', array('size' =&gt; 32)) ?&gt;
    &lt;/label&gt;&lt;/p&gt;
    &lt;p&gt;&lt;label&gt;Je land:
        &lt;?php echo $this-&gt;formSelect('country', 'be', null, $this-&gt;landen) ?&gt;
    &lt;/label&gt;&lt;/p&gt;
    &lt;p&gt;&lt;label&gt;Zou je je graag inschrijven ?
        &lt;?php echo $this-&gt;formCheckbox('opt_in', 'ja', null, array('ja', 'nee')) ?&gt;
    &lt;/label&gt;&lt;/p&gt;
&lt;/form&gt;
        </pre>
<p>
			Het resultaat van het view script zal op het volgende lijken:
        </p>
<pre class="programlisting">&lt;form action="aktie.php" method="post"&gt;
    &lt;p&gt;&lt;label&gt;Jouw Email:
        &lt;input type="text" name="email" value="you@example.com" size="32" /&gt;
    &lt;/label&gt;&lt;/p&gt;
    &lt;p&gt;&lt;label&gt;Je land:
        &lt;select name="country"&gt;
            &lt;option value="us"&gt;Verenigde Staten&lt;/option&gt;
            &lt;option value="il"&gt;Israël&lt;/option&gt;
            &lt;option value="be" selected="selected"&gt;België&lt;/option&gt;
            &lt;option value="nl"&gt;Nederland&lt;/option&gt;
        &lt;/select&gt;
    &lt;/label&gt;&lt;/p&gt;
    &lt;p&gt;&lt;label&gt;Zou je je graag inschrijven ?
        &lt;input type="hidden" name="opt_in" value="nee" /&gt;
        &lt;input type="checkbox" name="opt_in" value="ja" checked="checked" /&gt;
    &lt;/label&gt;&lt;/p&gt;
&lt;/form&gt;
        </pre>
</div>
<div class="sect2" lang="nl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.paths"></a>28.4.2. Helper Paden</h3></div></div></div>
<p>
			Zoals met view scripts kan de controller een stapel van paden
			specifiëren waar Zend_View naar helper klassen moet zoeken.
			Standaard kijkt Zend_View in "Zend/View/Helper/*" voor helper
			klassen. Je kan Zend_View vertellen in andere plaatsen te kijken
			door de setHelperPath() en addHelperPath() methodes te gebruiken.
        </p>
<pre class="programlisting">&lt;?php
$view = new Zend_View();
$view-&gt;setHelperPath('/pad/naar/meer/helpers');
?&gt;
        </pre>
<p>
			In feite kan je paden "opstapelen" door de addHelperPath()
            methode te gebruiken. Terwijl je paden aan de stapel toevoegt
			zal Zned_Viewer steeds in het meest-recent-toegevoegde pad
			naar de gevraagde helper klasse zoeken. Dit laat je toe de
			initiële distributie van helpers uit te breiden (of zelfs te
			vervangen) door je eigen persoonlijke helpers.
        </p>
<pre class="programlisting">&lt;?php
$view = new Zend_View();
$view-&gt;addHelperPath('/pad/naar/enige/helpers');
$view-&gt;addHelperPath('/ander/pad/naar/helpers');

// wanneer je nu $this-&gt;helperName() oproept zal Zend_View eerst kijken naar
// "/other/path/to/helpers/HelperName.php", dan naar
// "/path/to/some/helpers/HelperName", en uiteindelijk naar
// "Zend/View/Helpers/HelperName.php".
?&gt;
        </pre>
</div>
<div class="sect2" lang="nl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.custom"></a>28.4.3. Je eigen Helpers schrijven</h3></div></div></div>
<p>
			Je eigen helpers schrijven is gemakkelijk. Volg gewoon deze regels:
        </p>
<div class="itemizedlist"><ul type="disc">
<li><p>
				De klassenaam moet Zend_View_Helper_* zijn, waar * de naam
				van de helper zelf is. Bijvoorbeeld, als je een helper
				genaamd "speciaalDoel" schrijft zou de klassenaam
				"Zend_View_Helper_SpeciaalDoel" zijn (let op de hoofdletters).
            </p></li>
<li><p>
				De klasse moet een publieke methode hebben die overeenkomt
				met de helpernaam; dit is de methode die zal worden
				opgeroepen wanneer je template "$this-&gt;speciaalDoel()" 
				oproept. In ons "speciaalDoel" helpervoorbeeld zou de
				verplichte methodeverklaring "public function speciaalDoel()"
				zijn. 
            </p></li>
<li><p>
				In het algemeen zou de klasse niets moeten printen, echo-en of
				op eender welke andere wijze output genereren. In plaats daarvan
				zou het waarden moeten terugsturen die kunnen worden geprint of
				ge-echod. De teruggestuurde waarden moeten korrekt worden 
				ge-escaped.
            </p></li>
<li><p>
				De klasse moet in een bastand worden opgeslaan dat genoemd is
				naar de helper methode. Voortbouwend op ons "speciaalDoel" helper
				voorbeeld, moet het bestand "SpeciaalDoel.php" noemen.
            </p></li>
</ul></div>
<p>
			Plaats het helper klasse bestand ergens in je helper pad stapel en
			Zend_View zal het automatisch laden, instantiëren en uitvoeren.
        </p>
<p>
			Hier is een voorbeeld van onze SpeciaalDoel helpercode:
        </p>
<pre class="programlisting">&lt;?php
class Zend_View_Helper_SpeciaalDoel {
    protected $_count = 0;
    public function speciaalDoel()
    {
        $this-&gt;_count++;
        $output = "Ik heb 'The Jerk' {$this-&gt;_count} keer gezien.";
        return htmlspecialchars($output);
    }
}
?&gt;
        </pre>
<p>
			Je kan de SpeciaalDoel helper zoveel keer oproepen als je
			wil een een view script; het zal éénmaal geïnstantieerd worden,
			en is dan blijvend aanwezig voor de gehele leefduur van de
			Zend_View instantie.
        </p>
<pre class="programlisting">&lt;?php
// denk eraan: in een view script verwijst $this naar de Zend_View instantie.
echo $this-&gt;speciaalDoel();
echo $this-&gt;speciaalDoel();
echo $this-&gt;speciaalDoel();
?&gt;
        </pre>
<p>
            De output zou hierop moeten lijken:
        </p>
<pre class="programlisting">Ik heb 'The Jerk' 1 keer gezien.
Ik heb 'The Jerk' 2 keer gezien.
Ik heb 'The Jerk' 3 keer gezien.
        </pre>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.view.scripts.html">Terug</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.view.html">Omhoog</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.xmlrpc.html">Volgende</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">28.3. View Scripts </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Begin</a></td>
<td width="40%" align="right" valign="top"> Hoofdstuk 29. Zend_XmlRpc</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
