<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>25.2. Podstawowe użycie</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="index.html" title="Przewodnik Programisty">
<link rel="up" href="zend.session.html" title="Rozdział 25. Zend_Session">
<link rel="prev" href="zend.session.html" title="Rozdział 25. Zend_Session">
<link rel="next" href="zend.session.advancedusage.html" title="25.3. Użycie zaawansowane">
<link rel="chapter" href="zend.html" title="Rozdział 1. Zend">
<link rel="chapter" href="zend.acl.html" title="Rozdział 2. Zend_Acl">
<link rel="chapter" href="zend.auth.html" title="Rozdział 3. Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="Rozdział 4. Zend_Cache">
<link rel="chapter" href="zend.config.html" title="Rozdział 5. Zend_Config">
<link rel="chapter" href="zend.console.getopt.html" title="Rozdział 6. Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="Rozdział 7. Zend_Controller">
<link rel="chapter" href="zend.date.html" title="Rozdział 8. Zend_Date">
<link rel="chapter" href="zend.db.html" title="Rozdział 9. Zend_Db">
<link rel="chapter" href="zend.feed.html" title="Rozdział 10. Zend_Feed">
<link rel="chapter" href="zend.filter.html" title="Rozdział 11. Zend_Filter">
<link rel="chapter" href="zend.gdata.html" title="Rozdział 12. Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="Rozdział 13. Zend_Http">
<link rel="chapter" href="zend.json.html" title="Rozdział 14. Zend_Json">
<link rel="chapter" href="zend.locale.html" title="Rozdział 15. Zend_Locale">
<link rel="chapter" href="zend.log.html" title="Rozdział 16. Zend_Log">
<link rel="chapter" href="zend.mail.html" title="Rozdział 17. Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="Rozdział 18. Zend_Measure">
<link rel="chapter" href="zend.mime.html" title="Rozdział 19. Zend_Mime">
<link rel="chapter" href="zend.pdf.html" title="Rozdział 20. Zend_Pdf">
<link rel="chapter" href="zend.rest.html" title="Rozdział 21. Zend_Rest">
<link rel="chapter" href="zend.search.html" title="Rozdział 22. Zend_Search">
<link rel="chapter" href="zend.server.html" title="Rozdział 23. Zend_Server">
<link rel="chapter" href="zend.service.html" title="Rozdział 24. Zend_Service">
<link rel="chapter" href="zend.session.html" title="Rozdział 25. Zend_Session">
<link rel="chapter" href="zend.uri.html" title="Rozdział 26. Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="Rozdział 27. Zend_Validate">
<link rel="chapter" href="zend.view.html" title="Rozdział 28. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Rozdział 29. Zend_XmlRpc">
<link rel="appendix" href="coding-standard.html" title="Dodatek A. Zend Framework PHP Coding Standard">
<link rel="appendix" href="copyrights.html" title="Dodatek B. Informacje o prawach autorskich">
<link rel="index" href="the.index.html" title="Indeks">
<link rel="subsection" href="zend.session.basicusage.html#zend.session.basicexamples" title="25.2.1. Przykłady">
<link rel="subsection" href="zend.session.basicusage.html#zend.session.iteration" title="25.2.2. Iteracja poprzez przestrzenie nazw sesji">
<link rel="subsection" href="zend.session.basicusage.html#zend.session.accessors" title="25.2.3. Metody dostępowe do przestrzeni nazw sesji">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">25.2. Podstawowe użycie</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.session.html">Poprzedni</a> </td>
<th width="60%" align="center">Rozdział 25. Zend_Session</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.session.advancedusage.html">Następny</a>
</td>
</tr>
</table></div>
<div class="sect1" lang="pl">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.session.basicusage"></a>25.2. Podstawowe użycie</h2></div></div></div>
<p>
        Instancje <code class="code">Zend_Session_Namespace</code> zapewniają główne API do
        manipulowania danymi sesji w Zend Framework. Przestrzenie nazw są 
        używane do segregowania wszystkich danych sesji, chociaż dla tych, 
        którzy potrzebują tylko jednej przestrzeni nazw dla wszystkich danych 
        sesji, istnieje domyślna przestrzeń nazw. <code class="code">Zend_Session</code> 
        używa rozszerzenia session i jego specjalnej superglobalnej tablicy
        <code class="code">$_SESSION</code> jako mechanizmu składowania danych stanu sesji.
        Dopóki tablica <code class="code">$_SESSION</code> jest wciąż dostępna w globalnej
        przestrzeni nazw PHP, programiści powinni wystrzegać się uzyskiwania
        bezpośredniego dostępu do niej, więc dlatego <code class="code">Zend_Session</code> 
        oraz <code class="code">Zend_Session_Namespace</code> mogą najbardziej efektywnie
        i bezpiecznie zapewniać zbiór funkcjonalności związanych z sesją.
    </p>
<div class="sect2" lang="pl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.session.basicexamples"></a>25.2.1. Przykłady</h3></div></div></div>
<p>
            Jeśli przestrzeń nazw nie zostanie określona przy tworzeniu
            instancji Zend_Session, wszystkie dane będą przechowywane w 
            przestrzeni nazw "<code class="code">Default</code>". Poniższy przykład 
            demonstruje użycie tej domyślnej przestrzeni nazw, pokazując jak
            obliczyć ile razy użytkownik oglądał strony w twoim serwisie.
            Aby przetestować ten przykład, dodaj poniższy kod do twojego pliku
            ładującego ZF:
        </p>
<div class="example">
<a name="id4893264"></a><p class="title"><b>Przykład 25.1. Zliczanie odsłon stron</b></p>
<pre class="programlisting">
&lt;?php
    require_once 'Zend/Session.php';
    $defaultNamespace = new Zend_Session_Namespace('Default');
    $defaultNamespace-&gt;numberOfPageRequests++; // to będzie inkrementowane po każdym przeładowaniu strony
    echo "Page requests this session: ", $defaultNamespace-&gt;numberOfPageRequests;
?&gt;</pre>
</div>
<p>
            Jedną z wielu zalet klasy Zend_Session_Namespace widać wtedy, gdy
            wiele modułów używa Zend_Session_Namespace i uzyskuje dostęp do 
            hermetyzacji danych sesji. Do konstruktora Zend_Session można 
            przekazać opcjonalny argument $namespace, który pozwala innym 
            komponentom, modułom oraz specyficznemu kodowi programisty na 
            uzyskanie gwarancji tego, że ich dane będą zabezpieczone przegrodą 
            od obszarów danych używanych przez inne komponenty, moduły oraz 
            inny kod programisty. Przestrzenie nazw zapewniają efektywny i 
            popularny sposób do zabezpieczenia podzbiorów danych stanu sesji 
            przed przypadkowymi zmianami. Nazwy przestrzeni nazw mogą składać 
            się tylko z niepustych łańcuchów znaków PHP, ktęre nie zaczynają się 
            od znaku podkreślnika ('_'). Jedynie rdzenne komponenty zawarte w 
            Zend Framework powinny używać przestrzeni nazw o nazwach 
            zaczynających się od 'Zend_'.
        </p>
<div class="example">
<a name="id4894154"></a><p class="title"><b>Przykład 25.2. Nowy sposób: Przestrzenie nazw zapobiegają kolizjom</b></p>
<pre class="programlisting">
&lt;?php
    // w komponencie Zend_Auth
    require_once 'Zend/Session.php';
    $authNamespace = new Zend_Session_Namespace('Zend_Auth');
    $authNamespace-&gt;user = "myusername";

    // w komponencie serwisów web
    $webServiceNamespace = new Zend_Session_Namespace('Some_Web_Service');
    $webServiceNamespace-&gt;user = "mywebusername";
?&gt;</pre>
</div>
<p>
            Powyższy przykład daje ten sam efekt jak kod poniżej, z wyjątkiem
            tego, że obiekt sesji utrzymuje hermetyzację danych sesji wewnątrz
            odpowiadającej mu przestrzeni nazw.
        </p>
<div class="example">
<a name="id4894215"></a><p class="title"><b>Przykład 25.3. Stary sposób: Dostęp do sesji PHP</b></p>
<pre class="programlisting">
&lt;?php
    $_SESSION['Zend_Auth']['user'] = "myusername";
    $_SESSION['Some_Web_Service']['user'] = "mywebusername";
?&gt;</pre>
</div>
</div>
<div class="sect2" lang="pl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.session.iteration"></a>25.2.2. Iteracja poprzez przestrzenie nazw sesji</h3></div></div></div>
<p>
            <code class="code">Zend_Session_Namespace</code> zapewnia pełny
            <a href="http://www.php.net/~helly/php/ext/spl/interfaceIteratorAggregate.html" target="_top">interfejs IteratorAggregate</a>
            , właczając w to obsługę wyrażenia <code class="code">foreach</code>:
        </p>
<div class="example">
<a name="id4894285"></a><p class="title"><b>Przykład 25.4. Iteracja sesji</b></p>
<pre class="programlisting">
&lt;?php
    // Zend_Session możemy iterować
    require_once 'Zend/Session.php';
    $aNamespace = new Zend_Session_Namespace('some_namespace_with_data_present');
    foreach ($aNamespace as $index =&gt; $value) {
        echo "aNamespace-&gt;$index = '$value';\n";
    }
?&gt;</pre>
</div>
</div>
<div class="sect2" lang="pl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.session.accessors"></a>25.2.3. Metody dostępowe do przestrzeni nazw sesji</h3></div></div></div>
<p>
            Standardowe metody dostępowe są dostępne za pomocą magicznych metod
            __set(), __unset(), __isset(), oraz __get(). Magiczne metody nie 
            powinny być używane bezpośrednio, z wyjątkiem wnętrza klasy
            rozszerzającej Zend_Session. Zamiast tego, używaj normalnych 
            operatorów aby wywoływać te magiczne metody, na przykład:
        </p>
<div class="example">
<a name="id4894336"></a><p class="title"><b>Przykład 25.5. Uzyskiwanie dostępu do danych sesji</b></p>
<pre class="programlisting">
&lt;?php
            $object-&gt;property = $value; echo
            (isset($object-&gt;property) ? 'set' : 'unset');
?&gt;</pre>
</div>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.session.html">Poprzedni</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.session.html">Początek rozdziału</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.session.advancedusage.html">Następny</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Rozdział 25. Zend_Session </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Spis treści</a></td>
<td width="40%" align="right" valign="top"> 25.3. Użycie zaawansowane</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
