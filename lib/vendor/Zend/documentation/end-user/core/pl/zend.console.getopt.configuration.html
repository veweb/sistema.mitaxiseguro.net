<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>6.4. Configuring Zend_Console_Getopt</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="index.html" title="Przewodnik Programisty">
<link rel="up" href="zend.console.getopt.html" title="Rozdział 6. Zend_Console_Getopt">
<link rel="prev" href="zend.console.getopt.fetching.html" title="6.3. Fetching Options and Arguments">
<link rel="next" href="zend.controller.html" title="Rozdział 7. Zend_Controller">
<link rel="chapter" href="zend.html" title="Rozdział 1. Zend">
<link rel="chapter" href="zend.acl.html" title="Rozdział 2. Zend_Acl">
<link rel="chapter" href="zend.auth.html" title="Rozdział 3. Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="Rozdział 4. Zend_Cache">
<link rel="chapter" href="zend.config.html" title="Rozdział 5. Zend_Config">
<link rel="chapter" href="zend.console.getopt.html" title="Rozdział 6. Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="Rozdział 7. Zend_Controller">
<link rel="chapter" href="zend.date.html" title="Rozdział 8. Zend_Date">
<link rel="chapter" href="zend.db.html" title="Rozdział 9. Zend_Db">
<link rel="chapter" href="zend.feed.html" title="Rozdział 10. Zend_Feed">
<link rel="chapter" href="zend.filter.html" title="Rozdział 11. Zend_Filter">
<link rel="chapter" href="zend.gdata.html" title="Rozdział 12. Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="Rozdział 13. Zend_Http">
<link rel="chapter" href="zend.json.html" title="Rozdział 14. Zend_Json">
<link rel="chapter" href="zend.locale.html" title="Rozdział 15. Zend_Locale">
<link rel="chapter" href="zend.log.html" title="Rozdział 16. Zend_Log">
<link rel="chapter" href="zend.mail.html" title="Rozdział 17. Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="Rozdział 18. Zend_Measure">
<link rel="chapter" href="zend.mime.html" title="Rozdział 19. Zend_Mime">
<link rel="chapter" href="zend.pdf.html" title="Rozdział 20. Zend_Pdf">
<link rel="chapter" href="zend.rest.html" title="Rozdział 21. Zend_Rest">
<link rel="chapter" href="zend.search.html" title="Rozdział 22. Zend_Search">
<link rel="chapter" href="zend.server.html" title="Rozdział 23. Zend_Server">
<link rel="chapter" href="zend.service.html" title="Rozdział 24. Zend_Service">
<link rel="chapter" href="zend.session.html" title="Rozdział 25. Zend_Session">
<link rel="chapter" href="zend.uri.html" title="Rozdział 26. Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="Rozdział 27. Zend_Validate">
<link rel="chapter" href="zend.view.html" title="Rozdział 28. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Rozdział 29. Zend_XmlRpc">
<link rel="appendix" href="coding-standard.html" title="Dodatek A. Zend Framework PHP Coding Standard">
<link rel="appendix" href="copyrights.html" title="Dodatek B. Informacje o prawach autorskich">
<link rel="index" href="the.index.html" title="Indeks">
<link rel="subsection" href="zend.console.getopt.configuration.html#zend.console.getopt.configuration.addrules" title="6.4.1. Adding Option Rules">
<link rel="subsection" href="zend.console.getopt.configuration.html#zend.console.getopt.configuration.addhelp" title="6.4.2. Adding Help Messages">
<link rel="subsection" href="zend.console.getopt.configuration.html#zend.console.getopt.configuration.addaliases" title="6.4.3. Adding Option Aliases">
<link rel="subsection" href="zend.console.getopt.configuration.html#zend.console.getopt.configuration.addargs" title="6.4.4. Adding Argument Lists">
<link rel="subsection" href="zend.console.getopt.configuration.html#zend.console.getopt.configuration.config" title="6.4.5. Adding Configuration">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">6.4. Configuring Zend_Console_Getopt</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.console.getopt.fetching.html">Poprzedni</a> </td>
<th width="60%" align="center">Rozdział 6. Zend_Console_Getopt</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.controller.html">Następny</a>
</td>
</tr>
</table></div>
<div class="sect1" lang="pl">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.console.getopt.configuration"></a>6.4. Configuring Zend_Console_Getopt</h2></div></div></div>
<div class="sect2" lang="pl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.console.getopt.configuration.addrules"></a>6.4.1. Adding Option Rules</h3></div></div></div>
<p>
	    You can add more option rules in addition to those you specified
	    in the <code class="code">Zend_Console_Getopt</code> constructor, using the
	    <code class="code">addRules()</code> method.  The argument to
	    <code class="code">addRules()</code> is the same as the first argument to the
	    class constructor.  It is either a string in the format of the
	    short syntax options specification, or else an associative array 
	    in the format of a long syntax options specification.
            See <a href="zend.console.getopt.rules.html" title="6.2. Declaring Getopt Rules">Declaring Getopt Rules</a>
	    for details on the syntax for specifying options.
	</p>
<div class="example">
<a name="id4796304"></a><p class="title"><b>Przykład 6.7. Using addRules()</b></p>
<pre class="programlisting">&lt;?php
$opts = new Zend_Console_Getopt('abp:');
$opts-&gt;addRules(
  array(
    'verbose|v' =&gt; 'Print verbose output'
  )
);
?&gt;</pre>
</div>
<p>
	    The example above shows adding the "<code class="code">--verbose</code>" option
	    with an alias of "<code class="code">-v</code>" to a set of options 
	    defined in the call to the constructor.  Notice that you can mix
	    short format options and long format options in the same instance
	    of <code class="code">Zend_Console_Getopt</code>.
	</p>
</div>
<div class="sect2" lang="pl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.console.getopt.configuration.addhelp"></a>6.4.2. Adding Help Messages</h3></div></div></div>
<p>
	    In addition to specifying the help strings when declaring option
	    rules in the long format, you can associate help strings
	    with option rules using the <code class="code">setHelp()</code>
	    method.  The argument to the <code class="code">setHelp()</code> method is an
	    associative array, in which the key is a flag, and the value is a
	    corresponding help string.
	</p>
<div class="example">
<a name="id4796363"></a><p class="title"><b>Przykład 6.8. Using setHelp()</b></p>
<pre class="programlisting">&lt;?php
$opts = new Zend_Console_Getopt('abp:');
$opts-&gt;setHelp(
    array(
	'a' =&gt; 'This option chooses apple, with no parameter',
	'b' =&gt; 'This option chooses banana, with required integer parameter',
	'p' =&gt; 'This option chooses pear, with optional string parameter'
    )
);
?&gt;</pre>
</div>
<p>
	    If you declared options with aliases, you can use any of the 
	    aliases as the key of the associative array.
	</p>
<p>
	    The <code class="code">setHelp()</code> method is the only way to define help
	    strings if you declared the options using the short syntax.
	</p>
</div>
<div class="sect2" lang="pl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.console.getopt.configuration.addaliases"></a>6.4.3. Adding Option Aliases</h3></div></div></div>
<p>
	    You can declare aliases for options using the <code class="code">setAliases</code>
	    method.  The argument is an associative array, whose key is
	    a flag string declared previously, and whose value is a new
	    alias for that flag.  These aliases are merged with any existing
	    aliases.  In other words, aliases you declared earlier are
	    still in effect.
	</p>
<p>
	    An alias may be declared only once.  If you try to redefine
	    an alias, a <code class="code">Zend_Console_Getopt_Exception</code> is thrown.
	</p>
<div class="example">
<a name="id4796427"></a><p class="title"><b>Przykład 6.9. Using setAliases()</b></p>
<pre class="programlisting">&lt;?php
$opts = new Zend_Console_Getopt('abp:');
$opts-&gt;setAliases(
    array(
	'a' =&gt; 'apple',
	'a' =&gt; 'apfel',
	'p' =&gt; 'pear'
    )
);
?&gt;</pre>
</div>
<p>
            In the example above, after declaring these aliases,
            "<code class="code">-a</code>", "<code class="code">--apple</code>" and
            "<code class="code">--apfel</code>" are aliases for each other.
            Also "<code class="code">-p</code>" and "<code class="code">--pear</code>" are aliases
            for each other.
        </p>
<p>
	    The <code class="code">setAliases()</code> method is the only way to define aliases
	    if you declared the options using the short syntax.
	</p>
</div>
<div class="sect2" lang="pl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.console.getopt.configuration.addargs"></a>6.4.4. Adding Argument Lists</h3></div></div></div>
<p>
	    By default, <code class="code">Zend_Console_Getopt</code> uses
	    <code class="code">$_SERVER['argv']</code> for the array of command-line
	    arguments to parse.  You can alternatively specify the array of
	    arguments as the second constructor argument.  Finally, you
	    can append more arguments to those already used using the
	    <code class="code">addArguments()</code> method, or you can replace the current
	    array of arguments using the <code class="code">setArguments()</code> method.
	    In both cases, the parameter to these methods is a simple array of
	    strings.  The former method appends the array to the current
	    arguments, and the latter method substitutes the array for the
	    current arguments.
	</p>
<div class="example">
<a name="id4796510"></a><p class="title"><b>Przykład 6.10. Using addArguments() and setArguments()</b></p>
<pre class="programlisting">&lt;?php
// By default, the constructor uses $_SERVER['argv']
$opts = new Zend_Console_Getopt('abp:');

// Append an array to the existing arguments
$opts-&gt;addArguments(array('-a', '-p', 'p_parameter', 'non_option_arg));

// Substitute a new array for the existing arguments
$opts-&gt;setArguments(array('-a', '-p', 'p_parameter', 'non_option_arg));
?&gt;</pre>
</div>
</div>
<div class="sect2" lang="pl">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.console.getopt.configuration.config"></a>6.4.5. Adding Configuration</h3></div></div></div>
<p>
	    The third parameter to the <code class="code">Zend_Console_Getopt</code>
	    constructor is an array of configuration options that affect
	    the behavior of the object instance returned. You can also
	    specify configuration options using the <code class="code">setOptions()</code>
	    method, or you can set an individual option using the
	    <code class="code">setOption()</code> method.
	</p>
<div class="note"><table border="0" summary='Note: Clarifying the term "option"'>
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Notatka]" src="images/note.png"></td>
<th align="left">Clarifying the term "option"</th>
</tr>
<tr><td align="left" valign="top">
            The term "option" is used for configuration of the
            <code class="code">Zend_Console_Getopt</code> class to match terminology 
            used elsewhere in the Zend Framework.  These are not the same
            things as the command-line options that are parsed by
            the <code class="code">Zend_Console_Getopt</code> class.
        </td></tr>
</table></div>
<p>
	    The currently supported 
	    options have const definitions in the class.  The options,
	    their const identifiers (with literal values in parentheses)
	    are listed below:
	</p>
<div class="itemizedlist"><ul type="disc">
<li><p>
		    <code class="code">Zend_Console_Getopt::CONFIG_DASHDASH</code> ("dashDash"),
		    if true, enables the special flag "<code class="code">--</code>" to
		    signify the end of flags.  Command-line arguments following
		    the double-dash signifier are not interpreted as options,
		    even if the arguments start with a dash.  This configuration
		    option is true by default.
		</p></li>
<li><p>
		    <code class="code">Zend_Console_Getopt::CONFIG_DASHDASH</code> ("ignoreCase"),
		    if true, makes flags aliases of each other if they differ
		    only in their case.  That is, "<code class="code">-a</code>" and
		    "<code class="code">-A</code>" will be considered to be synonymous flags.
		    This configuration option is false by default.
		</p></li>
<li><p>
                    <code class="code">Zend_Console_Getopt::CONFIG_RULEMODE</code>
                    ("ruleMode") may have values <code class="code">Zend_Console_Getopt::MODE_ZEND</code>
                    ("zend") and <code class="code">Zend_Console_Getopt::MODE_GNU</code>
                    ("gnu").  It should not be necessary to use this option
		    unless you extend the class with additional syntax forms.
		    The two modes supported in the base <code class="code">Zend_Console_Getopt</code>
		    class are unambiguous.  If the specifier is a string, the
		    class assumes <code class="code">MODE_GNU</code>, otherwise it assumes
		    <code class="code">MODE_ZEND</code>.  But if you extend the class and
		    add more syntax forms, you may need to specify the mode
		    using this option.
		</p></li>
</ul></div>
<p>
	    More configuration options may be added as future enhancements
	    of this class.
	</p>
<p>
	    The two arguments to the <code class="code">setOption()</code> method are
	    a configuration option name and an option value.
	</p>
<div class="example">
<a name="id4796675"></a><p class="title"><b>Przykład 6.11. Using setOption()</b></p>
<pre class="programlisting">&lt;?php
$opts = new Zend_Console_Getopt('abp:');
$opts-&gt;setOption('ignoreCase', true);
?&gt;</pre>
</div>
<p>
	    The argument to the <code class="code">setOptions()</code> method is
	    an associative array.  The keys of this array are the configuration
	    option names, and the values are configuration values.
	    This is also the array format used in the class constructor.
            The configuration values you specify are merged with the current
            configuration; you don't have to list all options.
	</p>
<div class="example">
<a name="id4796704"></a><p class="title"><b>Przykład 6.12. Using setOptions()</b></p>
<pre class="programlisting">&lt;?php
$opts = new Zend_Console_Getopt('abp:');
$opts-&gt;setOptions(
    array(
        'ignoreCase' =&gt; true,
	'dashDash'   =&gt; false
    )
);
?&gt;</pre>
</div>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.console.getopt.fetching.html">Poprzedni</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.console.getopt.html">Początek rozdziału</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.controller.html">Następny</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">6.3. Fetching Options and Arguments </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Spis treści</a></td>
<td width="40%" align="right" valign="top"> Rozdział 7. Zend_Controller</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
