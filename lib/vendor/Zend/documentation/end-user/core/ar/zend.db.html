<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>فصل 9. Zend_Db</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="index.html" title="دليل المبرمج">
<link rel="up" href="index.html" title="دليل المبرمج">
<link rel="prev" href="zend.date.constants.html" title="8.5. Constants for General Date Functions">
<link rel="next" href="zend.db.profiler.html" title="9.2. Zend_Db_Profiler">
<link rel="chapter" href="zend.html" title="فصل 1. Zend">
<link rel="chapter" href="zend.acl.html" title="فصل 2. Zend_Acl">
<link rel="chapter" href="zend.auth.html" title="فصل 3. Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="فصل 4. Zend_Cache">
<link rel="chapter" href="zend.config.html" title="فصل 5. Zend_Config">
<link rel="chapter" href="zend.console.getopt.html" title="فصل 6. Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="فصل 7. Zend_Controller">
<link rel="chapter" href="zend.date.html" title="فصل 8. Zend_Date">
<link rel="chapter" href="zend.db.html" title="فصل 9. Zend_Db">
<link rel="chapter" href="zend.feed.html" title="فصل 10. Zend_Feed">
<link rel="chapter" href="zend.filter.html" title="فصل 11. Zend_Filter">
<link rel="chapter" href="zend.gdata.html" title="فصل 12. Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="فصل 13. Zend_Http">
<link rel="chapter" href="zend.json.html" title="فصل 14. Zend_Json">
<link rel="chapter" href="zend.locale.html" title="فصل 15. Zend_Locale">
<link rel="chapter" href="zend.log.html" title="فصل 16. Zend_Log">
<link rel="chapter" href="zend.mail.html" title="فصل 17. Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="فصل 18. Zend_Measure">
<link rel="chapter" href="zend.mime.html" title="فصل 19. Zend_Mime">
<link rel="chapter" href="zend.pdf.html" title="فصل 20. Zend_Pdf">
<link rel="chapter" href="zend.rest.html" title="فصل 21. Zend_Rest">
<link rel="chapter" href="zend.search.html" title="فصل 22. Zend_Search">
<link rel="chapter" href="zend.server.html" title="فصل 23. Zend_Server">
<link rel="chapter" href="zend.service.html" title="فصل 24. Zend_Service">
<link rel="chapter" href="zend.session.html" title="فصل 25. Zend_Session">
<link rel="chapter" href="zend.uri.html" title="فصل 26. Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="فصل 27. Zend_Validate">
<link rel="chapter" href="zend.view.html" title="فصل 28. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="فصل 29. Zend_XmlRpc">
<link rel="appendix" href="coding-standard.html" title="ملحق A. Zend Framework PHP Coding Standard">
<link rel="appendix" href="copyrights.html" title="ملحق B. معلومات حقوق الملكية">
<link rel="index" href="the.index.html" title="فهرس">
<link rel="section" href="zend.db.html#zend.db.adapter" title="9.1. Zend_Db_Adapter">
<link rel="section" href="zend.db.profiler.html" title="9.2. Zend_Db_Profiler">
<link rel="section" href="zend.db.select.html" title="9.3. Zend_Db_Select">
<link rel="section" href="zend.db.table.html" title="9.4. Zend_Db_Table">
<link rel="section" href="zend.db.tablerow.html" title="9.5. Zend_Db_Table_Row">
<link rel="section" href="zend.db.tablerowset.html" title="9.6. Zend_Db_Table_Rowset">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">فصل 9. Zend_Db</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.date.constants.html">السابق</a> </td>
<th width="60%" align="center"> </th>
<td width="20%" align="right"> <a accesskey="n" href="zend.db.profiler.html">التالي</a>
</td>
</tr>
</table></div>
<div class="chapter" lang="ar">
<div class="titlepage"><div><div><h2 class="title">
<a name="zend.db"></a>فصل 9. Zend_Db</h2></div></div></div>
<div class="toc">
<p><b>قائمة المحتويات</b></p>
<dl>
<dt><span class="sect1"><a href="zend.db.html#zend.db.adapter">9.1. Zend_Db_Adapter</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.introduction">9.1.1. مقدمة</a></span></dt>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.quoting">9.1.2. الـ Quoting للحماية من الـ SQL Injection</a></span></dt>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.queries">9.1.3. الإستعلامات المباشرة</a></span></dt>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.transactions">9.1.4. الـ Transactions</a></span></dt>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.insert">9.1.5. إدخال صفوف</a></span></dt>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.update">9.1.6. عمل Update للصفوف</a></span></dt>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.delete">9.1.7. حذف صفوف</a></span></dt>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.fetch">9.1.8. جلب الصفوف</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.db.profiler.html">9.2. Zend_Db_Profiler</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.db.profiler.html#zend.db.profiler.introduction">9.2.1. Introduction</a></span></dt>
<dt><span class="sect2"><a href="zend.db.profiler.html#zend.db.profiler.using">9.2.2. Using the Profiler</a></span></dt>
<dt><span class="sect2"><a href="zend.db.profiler.html#zend.db.profiler.advanced">9.2.3. Advanced Profiler Usage</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.db.select.html">9.3. Zend_Db_Select</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.introduction">9.3.1. Introduction</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.fromcols">9.3.2. Columns FROM a Table</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.joincols">9.3.3. Columns from JOINed Tables</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.where">9.3.4. WHERE Conditions</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.group">9.3.5. GROUP BY Clause</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.having">9.3.6. HAVING Conditions</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.order">9.3.7. ORDER BY Clause</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.limit">9.3.8. LIMIT By Count and Offset</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.paging">9.3.9. LIMIT By Page And Count</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.db.table.html">9.4. Zend_Db_Table</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.introduction">9.4.1. Introduction</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.getting-started">9.4.2. Getting Started</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.name-and-key">9.4.3. Table Name and Primary Key</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.insert">9.4.4. Inserting Rows</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.udpate">9.4.5. Updating Rows</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.delete">9.4.6. Deleting Rows</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.findbykey">9.4.7. Finding Rows by Primary Key</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.fetchonerow">9.4.8. Fetching One Row</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.fetchmultiple">9.4.9. Fetching Multiple Rows</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.domain-logic">9.4.10. Adding Domain Logic</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.db.tablerow.html">9.5. Zend_Db_Table_Row</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.db.tablerow.html#zend.db.table.row.introduction">9.5.1. Introduction</a></span></dt>
<dt><span class="sect2"><a href="zend.db.tablerow.html#zend.db.table.row.fetch">9.5.2. Fetching a Row</a></span></dt>
<dt><span class="sect2"><a href="zend.db.tablerow.html#zend.db.table.row.modify">9.5.3. Modifying Values</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.db.tablerowset.html">9.6. Zend_Db_Table_Rowset</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.db.tablerowset.html#zend.db.table.rowset.introduction">9.6.1. Introduction</a></span></dt>
<dt><span class="sect2"><a href="zend.db.tablerowset.html#zend.db.table.rowset.fetch">9.6.2. Fetching a Rowset</a></span></dt>
<dt><span class="sect2"><a href="zend.db.tablerowset.html#zend.db.table.rowset.iterate">9.6.3. Iterating Through the Rowset</a></span></dt>
</dl></dd>
</dl>
</div>
<div class="sect1" lang="ar">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.db.adapter"></a>9.1. Zend_Db_Adapter</h2></div></div></div>
<div class="sect2" lang="ar">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.introduction"></a>9.1.1. مقدمة</h3></div></div></div>
<p>
            <code class="code">Zend_Db_Adapter</code> هو طبقة الـ abstraction لـ API قواعد البيانات 
            المستخدم فى إطار عمل Zend , و أعتماداً على PDO يمكنك ان تستخدم 
            <code class="code">Zend_Db_Adapter</code> للأتصال و العمل مع أى من قواعد بيانات 
            SQL المدعومة و ذلك بأستخدام نفس الـ API , و هذا يشمل كل من 
            Microsoft SQL Server و MySQL و PostgreSQL و SQLite و أخريات.
        </p>
<p>
            لتقوم بإنشاء نسخة "instance" من <code class="code">Zend_Db_Adapter</code> 
            لتستخدمه مع قاعدة البيانات خاصتك, ستحتاج إلى إستدعاء 
            <code class="code">()Zend_Db::factory</code> مع تمرير إسم الـ Adapter 
            و مصفوفة تحتوى بيانات الأتصال, على سبيل المثال, للأتصال بقاعدة بيانات 
            MySQL تسمى "camelot" على الـ localhost بأسم المستخدم "malory" :
        </p>
<pre class="programlisting">&lt;?php

require_once 'Zend/Db.php';

$params = array ('host'     =&gt; '127.0.0.1',
                 'username' =&gt; 'malory',
                 'password' =&gt; '******',
                 'dbname'   =&gt; 'camelot');

$db = Zend_Db::factory('PDO_MYSQL', $params);

?&gt;</pre>
<p>
            بنفس الطريقة تقريبا, للأتصال بقاعدة بيانات SQLite تسمى "camelot.sq3" : 
        </p>
<pre class="programlisting">&lt;?php

require_once 'Zend/Db.php';

$params = array ('dbname' =&gt; 'camelot.sq3');

$db = Zend_Db::factory('PDO_SQLITE', $params);

?&gt;</pre>
<p>
            بنفس الطريقة تقريبا, للأتصال بقاعدة بيانات SQLite2 تسمى "camelot.sq2" : 
            بالنسبة إلى قواعد بيانات sqlite الـ memory-based , لا تقم بتحديد dsnprefix و 
            إستخدم أسم قاعدة البيانات ":memory:" .
        </p>
<pre class="programlisting">&lt;?php

require_once 'Zend/Db.php';

$params = array ('dbname' =&gt; 'camelot.sq2',
                 'dsnprefix' =&gt; 'sqlite2');

$db = Zend_Db::factory('PDO_SQLITE', $params);

?&gt;</pre>
<p>
            فى كل الحالات, ستتمكن من إستخدام نفس الـ API بدون أى تغيير للتعامل مع قواعد البيانات.
        </p>
</div>
<div class="sect2" lang="ar">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.quoting"></a>9.1.2. الـ Quoting للحماية من الـ SQL Injection</h3></div></div></div>
<p>
            يجب عليك أن تقوم بعمل quoting "تحديد قيم/إقتباس" للبيانات التى سيتم إستخدامها 
            فى جمل الـ SQL, و ذلك للحماية من هجمات الـ SQL injection , 
            يوفر <code class="code">Zend_Db_Adapter</code> إثنان من الـ methods 
            (من خلال كائن الـ PDO الداخلى) لتساعدك فى عمل quoting للقيم.
        </p>
<p>
            اولهم هو الـ method المسمى <code class="code">()quote</code>, 
            سيقوم بعمل quoting للقيم ذات البعد الواحد لتتمكن من إستخدامها 
            مع الـ Adapter الخاص بقاعدة البيانات خاصتك ;
             إن قمت بتمرير مصفوفة , سيتم إرجاع string عبارة عن قيم 
            المصفوفة مفصول بين كل منها بفصلة, و كل من هذه القيم قد تم 
            عمل quoting له 
            (هذا مفيد فى العمليات التى تتطلب قائمة من البرامترات).
        </p>
<pre class="programlisting">&lt;?php

// create a $db object, assuming Mysql as the adapter.

// quote a scalar
$value = $db-&gt;quote('St John"s Wort');
// $value is now '"St John\"s Wort"' (note the surrounding quotes)

// quote an array
$value = $db-&gt;quote(array('a', 'b', 'c');
// $value is now '"a", "b", "c"' (a comma-separated string)

?&gt;</pre>
<p>
            ثانى method هو <code class="code">()quoteInto</code> , 
            انت تقوم بتمرير string أساس يحتوى على علامة إستفهام تعمل 
            كـ placeholder , ثم تمرر قيمة احادية البعد أو مصفوفة ليتم عمل 
            quoting لها و وضع الناتج فى string الأساس, هذه العملية مفيدة 
            عند إنشاء إستعلامات - على الطاير - , القيم احادية البعد و المصفوفات
            سيتم معاملتها تماما بنفس الطريقة المتبعة فى <code class="code">()quote</code>.
        </p>
<pre class="programlisting">&lt;?php
	
// create a $db object, assuming Mysql as the adapter.

// quote a scalar into a WHERE clause
$where = $db-&gt;quoteInto('id = ?', 1);
// $where is now 'id = "1"' (note the surrounding quotes)

// quote an array into a WHERE clause
$where = $db-&gt;quoteInto('id IN(?)', array(1, 2, 3));
// $where is now 'id IN("1", "2", "3")' (a comma-separated string)

?&gt;</pre>
</div>
<div class="sect2" lang="ar">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.queries"></a>9.1.3. الإستعلامات المباشرة</h3></div></div></div>
<p>
            بمجرد أن تنشئ نسخة من <code class="code">Zend_Db_Adapter</code>, 
            ستتمكن من تنفيذ إستعلامات مباشرة بإستخدام SQL , 
            سيقوم <code class="code">Zend_Db_Adapter</code> بتمرير هذه 
            الإستعلامات إلى كائن الـ PDO الموجود داخله, و الذى بدوره يقوم 
            بتجهيز و تنفيذ هذه الأستعلامات, و بعدها يقوم بإرجاع كائن 
            PDOStatement إليك لتتعامل مع نتائج الأستعلام (إن وجدت).
        </p>
<pre class="programlisting">&lt;?php
	
// create a $db object, and then query the database
// with a properly-quoted SQL statement.
$sql = $db-&gt;quoteInto(
    'SELECT * FROM example WHERE date &gt; ?',
    '2006-01-01'
);
$result = $db-&gt;query($sql);

// use the PDOStatement $result to fetch all rows as an array
$rows = $result-&gt;fetchAll();

?&gt;</pre>
<p>
            يمكنك أن تربط كل بياناتك بالأستعلام تلقائياً , و هذا يعنى انك
            من الممكن أن تقوم بإنشاء اكثر من placeholder بأسماء مختلفة 
            داخل جملة الأستعلام, و بعدها تمرر مصفوفة من البيانات التى 
            سيتم إحلالها مكان الـ placeholders , و سيتم عمل quoting 
            لهذه البيانات , بحيث يتوفر تأمين أكبر بالنسبة إلى هجمات الـ 
            SQL injection .
        </p>
<pre class="programlisting">&lt;?php
	
// create a $db object, and then query the database.
// this time, use placeholder binding.
$result = $db-&gt;query(
    'SELECT * FROM example WHERE date &gt; :placeholder',
    array('placeholder' =&gt; '2006-01-01')
);

// use the PDOStatement $result to fetch all rows as an array
$rows = $result-&gt;fetchAll();

?&gt;</pre>
<p>
            إختيارياً, ربما انت تريد ان تقوم بتجهيز و ربط البيانات بجملة الـ SQL يدوياً, 
            لتتمكن من هذا, إستخدم الـ method المسمى <code class="code">()prepare</code> 
            ليتم إرجاع نسخة مجهزة من <code class="code">PDOStatement</code> و التى 
            يمكنك أن تتعامل معها مباشرة.
        </p>
<pre class="programlisting">&lt;?php
	
// create a $db object, and then query the database.
// this time, prepare a PDOStatement for manual binding.
$stmt = $db-&gt;prepare('SELECT * FROM example WHERE date &gt; :placeholder');
$stmt-&gt;bindValue('placeholder', '2006-01-01');
$stmt-&gt;execute();

// use the PDOStatement to fetch all rows as an array
$rows = $stmt-&gt;fetchAll();

?&gt;</pre>
</div>
<div class="sect2" lang="ar">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.transactions"></a>9.1.4. الـ Transactions</h3></div></div></div>
<p>
            حسب الأعدادات الأساسية , يكون PDO 
            ( و بالطبع <code class="code">Zend_Db_Adapter</code> ) 
            فى وضعية الـ "auto-commit" أى "التأكيد-التلقائى" , 
            هذا يعنى أن كل الأستعلامات يتم تأكيدها "commited" بمجرد تنفيذها , 
            فإن كنت تود أن تقوم بتنفيذ إستعلام داخل عملية transaction , 
            ببساطة إستدعى الـ method المسمى <code class="code">()beginTransaction</code> , 
            و بعدها إما تستدعى <code class="code">()commit</code> لتأكيد العملية أو إستدعى 
            <code class="code">()rollBack</code> للإلغاء العملية, و سيعود 
            <code class="code">Zend_Db_Adapter</code> إلى وضعية الـ auto-commit إلى 
            أن تقوم بإستدعاء <code class="code">()beginTransaction</code> مرة ثانية .
        </p>
<pre class="programlisting">&lt;?php
	
// create a $db object, and then start a transaction.
$db-&gt;beginTransaction();

// attempt a query.
// if it succeeds, commit the changes;
// if it fails, roll back.
try {
    $db-&gt;query(...);
    $db-&gt;commit();
} catch (Exception $e) {
    $db-&gt;rollBack();
    echo $e-&gt;getMessage();
}

?&gt;</pre>
</div>
<div class="sect2" lang="ar">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.insert"></a>9.1.5. إدخال صفوف</h3></div></div></div>
<p>
            للتسهيل, يمكنك أن تستخدم الـ method المسمى <code class="code">()insert</code>
            لتنشئ جملة INSERT لك و تقوم بربط البيانات التى سيتم إدخالها إليها
            ( البيانات التى يتم ربطها يتم عمل quoting لها تلقائياً لتحد من هجمات 
            الـ SQL injection ).
        </p>
<p>
            القيمة التى سيتم ارجاعها <span class="emphasis"><em>ليست</em></span> أخر ID تم إدخاله, 
            لأن الجدول ربما لا يحتوى على عمود auto-incremented , لذلك القيمة التى 
            سيتم إرجاعها هى عدد الصفوف التى تم التأثير عليها (غالبا 1), 
            إن كنت تريد الـ ID الخاص بأخر صف تم إدخاله, إستدعى الـ method المسمى 
            <code class="code">()lastInsertId</code> بعد إتمام عملية إدخال البيانات.
        </p>
<pre class="programlisting">&lt;?php
	
//
// INSERT INTO round_table
//     (noble_title, first_name, favorite_color)
//     VALUES ("King", "Arthur", "blue");
//

// create a $db object, and then...
// the row data to be inserted in column =&gt; value format
$row = array (
    'noble_title'    =&gt; 'King',
    'first_name'     =&gt; 'Arthur',
    'favorite_color' =&gt; 'blue',
);

// the table into which the row should be inserted
$table = 'round_table';

// insert the row and get the row ID
$rows_affected = $db-&gt;insert($table, $row);
$last_insert_id = $db-&gt;lastInsertId();

?&gt;</pre>
</div>
<div class="sect2" lang="ar">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.update"></a>9.1.6. عمل Update للصفوف</h3></div></div></div>
<p>
            للتسهيل, يمكنك أن تستخدم الـ method المسمى <code class="code">()update</code>
            لتنشئ جملة UPDATE لك و تربطها بالبيانات التى سيتم عمل update لها.
            (البيانات التى سيتم ربطها يتم عمل quoting لها تلقائياً للمساعدة فى الحد من 
            هجمات الـ SQL injection )
        </p>
<p>
            يمكنك ان توفر شرط WHERE اختيارياً لتحدد أى الصفوف سيتم 
            عمل update لها . 
            (لاحظ أن فقرة WHERE ليست براميتر ربط, لذلك يجب عليك أن تقوم 
            بعمل quoting للقيم المستخدمة فيها بنفسك )
        </p>
<pre class="programlisting">&lt;?php
	
//
// UPDATE round_table
//     SET favorite_color = "yellow"
//     WHERE first_name = "Robin";
//

// create a $db object, and then...
// the new values to set in the update, in column =&gt; value format.
$set = array (
    'favorite_color' =&gt; 'yellow',
);

// the table to update
$table = 'round_table';

// the WHERE clause
$where = $db-&gt;quoteInto('first_name = ?', 'Robin');

// update the table and get the number of rows affected
$rows_affected = $db-&gt;update($table, $set, $where);

?&gt;</pre>
</div>
<div class="sect2" lang="ar">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.delete"></a>9.1.7. حذف صفوف</h3></div></div></div>
<p>
            للتسهيل, يمكنك أن تستخدم الـ method المسمى <code class="code">()delete</code>
            لتنشئ جملة DELETE لك ,
            و يمكنك ان توفر شرط WHERE اختيارى لتحدد أى الصفوف يتم حذفها 
            (لاحظ أن فقرة WHERE ليست براميتر ربط, لذلك يجب عليك أن تقوم 
            بعمل quoting للقيم المستخدمة فيها بنفسك )
        </p>
<pre class="programlisting">&lt;?php
	
//
// DELETE FROM round_table
//     WHERE first_name = "Patsy";
//

// create a $db object, and then...
// the table to delete from
$table = 'round_table';

// the WHERE clause
$where = $db-&gt;quoteInto('first_name = ?', 'Patsy');

// update the table and get the number of rows affected
$rows_affected = $db-&gt;delete($table, $where);

?&gt;</pre>
</div>
<div class="sect2" lang="ar">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.fetch"></a>9.1.8. جلب الصفوف</h3></div></div></div>
<p>
            ايضاَ يمكنك أن تنفذ استعلامات مباشرة على قاعدة البيانات بإستخدام الـ method 
            المسمى <code class="code">()query</code>, غالباً كل ما تحتاج إلى عمله هو ان تختار 
            الصفوف و تأتى بالنتائج, مجموعة methods الـ ()*fetch تقوم بعمل هذا من أجلك, 
            لكل من methods الـ ()*fetch , تمرر جملة  SELECT ; و إن كنت تستخدم 
            placeholders فى الجملة , يمكنك أن تمرر مصفوفة من قيم الربط ليتم عمل 
            quoting لها و إحلالها فى الجملة , مجموعة methods الـ ()*fetch هم :
        </p>
<div class="itemizedlist"><ul type="disc">
<li><p><code class="code">()fetchAll</code></p></li>
<li><p><code class="code">()fetchAssoc</code></p></li>
<li><p><code class="code">()fetchCol</code></p></li>
<li><p><code class="code">()fetchOne</code></p></li>
<li><p><code class="code">()fetchPairs</code></p></li>
<li><p><code class="code">()fetchRow</code></p></li>
</ul></div>
<pre class="programlisting">&lt;?php
	
// create a $db object, and then...

// fetch all columns of all rows as a sequential array
$result = $db-&gt;fetchAll(
    "SELECT * FROM round_table WHERE noble_title = :title",
    array('title' =&gt; 'Sir')
);

// fetch all columns of all rows as an associative array;
// the first column is used as the array key.
$result = $db-&gt;fetchAssoc(
    "SELECT * FROM round_table WHERE noble_title = :title",
    array('title' =&gt; 'Sir')
);

// fetch the first column of all rows returned
$result = $db-&gt;fetchCol(
    "SELECT first_name FROM round_table WHERE noble_title = :title",
    array('title' =&gt; 'Sir')
);

// fetch only the first value
$result = $db-&gt;fetchOne(
    "SELECT COUNT(*) FROM round_table WHERE noble_title = :title",
    array('title' =&gt; 'Sir')
);

// fetch a series of key-value pairs; the first column is
// the array key, the second column is the array value
$result = $db-&gt;fetchPairs(
    "SELECT first_name, favorite_color FROM round_table WHERE noble_title = :title",
    array('title' =&gt; 'Sir')
);

// fetch only the first row returned
$result = $db-&gt;fetchRow(
    "SELECT * FROM round_table WHERE first_name = :name",
    array('name' =&gt; 'Lancelot')
);

?&gt;</pre>
</div>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.date.constants.html">السابق</a> </td>
<td width="20%" align="center"> </td>
<td width="40%" align="right"> <a accesskey="n" href="zend.db.profiler.html">التالي</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">8.5. Constants for General Date Functions </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">البداية</a></td>
<td width="40%" align="right" valign="top"> 9.2. Zend_Db_Profiler</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
