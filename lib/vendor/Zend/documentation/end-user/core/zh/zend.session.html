<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>第 25 章 Zend_Session</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="index.html" title="Zend Framework手册 中文版">
<link rel="up" href="index.html" title="Zend Framework手册 中文版">
<link rel="prev" href="zend.service.yahoo.html" title="24.5. Zend_Service_Yahoo">
<link rel="next" href="zend.session.basicusage.html" title="25.2. 基本用法">
<link rel="chapter" href="zend.html" title="第 1 章 Zend">
<link rel="chapter" href="zend.acl.html" title="第 2 章 Zend_Acl">
<link rel="chapter" href="zend.auth.html" title="第 3 章 Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="第 4 章 Zend_Cache">
<link rel="chapter" href="zend.config.html" title="第 5 章 Zend_Config">
<link rel="chapter" href="zend.console.getopt.html" title="第 6 章 Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="第 7 章 Zend_Controller">
<link rel="chapter" href="zend.date.html" title="第 8 章 Zend_Date">
<link rel="chapter" href="zend.db.html" title="第 9 章 Zend_Db">
<link rel="chapter" href="zend.feed.html" title="第 10 章 Zend_Feed">
<link rel="chapter" href="zend.filter.html" title="第 11 章 Zend_Filter">
<link rel="chapter" href="zend.gdata.html" title="第 12 章 Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="第 13 章 Zend_Http">
<link rel="chapter" href="zend.json.html" title="第 14 章 Zend_Json">
<link rel="chapter" href="zend.locale.html" title="第 15 章 Zend_Locale">
<link rel="chapter" href="zend.log.html" title="第 16 章 Zend_Log">
<link rel="chapter" href="zend.mail.html" title="第 17 章 Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="第 18 章 Zend_Measure">
<link rel="chapter" href="zend.mime.html" title="第 19 章 Zend_Mime">
<link rel="chapter" href="zend.pdf.html" title="第 20 章 Zend_Pdf">
<link rel="chapter" href="zend.rest.html" title="第 21 章 Zend_Rest">
<link rel="chapter" href="zend.search.html" title="第 22 章 Zend_Search">
<link rel="chapter" href="zend.server.html" title="第 23 章 Zend_Server">
<link rel="chapter" href="zend.service.html" title="第 24 章 Zend_Service">
<link rel="chapter" href="zend.session.html" title="第 25 章 Zend_Session">
<link rel="chapter" href="zend.uri.html" title="第 26 章 Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="第 27 章 Zend_Validate">
<link rel="chapter" href="zend.view.html" title="第 28 章 Zend_View">
<link rel="chapter" href="zend.validate.html" title="第 29 章 Zend_Validate">
<link rel="chapter" href="zend.xmlrpc.html" title="第 30 章 Zend_XmlRpc">
<link rel="appendix" href="coding-standard.html" title="附录 A. Zend Framework PHP Coding Standard">
<link rel="appendix" href="copyrights.html" title="附录 B. 版权信息">
<link rel="index" href="the.index.html" title="索引">
<link rel="section" href="zend.session.html#zend.session.introduction" title="25.1. 简介">
<link rel="section" href="zend.session.basicusage.html" title="25.2. 基本用法">
<link rel="section" href="zend.session.advancedusage.html" title="25.3. 高级用法">
<link rel="section" href="zend.session.globalsessionmanagement.html" title="25.4. 全局会话管">
<link rel="section" href="zend.session.theory.html" title="25.5. 原理">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">第 25 章 Zend_Session</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.service.yahoo.html">上一页</a> </td>
<th width="60%" align="center"> </th>
<td width="20%" align="right"> <a accesskey="n" href="zend.session.basicusage.html">下一页</a>
</td>
</tr>
</table></div>
<div class="chapter" lang="zh-cn">
<div class="titlepage"><div><div><h2 class="title">
<a name="zend.session"></a>第 25 章 Zend_Session</h2></div></div></div>
<div class="toc">
<p><b>目录</b></p>
<dl>
<dt><span class="sect1"><a href="zend.session.html#zend.session.introduction">25.1. 简介</a></span></dt>
<dt><span class="sect1"><a href="zend.session.basicusage.html">25.2. 基本用法</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.session.basicusage.html#zend.session.basicexamples">25.2.1. 教程实例</a></span></dt>
<dt><span class="sect2"><a href="zend.session.basicusage.html#zend.session.iteration">25.2.2. 迭代会话命名空间</a></span></dt>
<dt><span class="sect2"><a href="zend.session.basicusage.html#zend.session.accessors">25.2.3. 会话命名空间的访问器</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.session.advancedusage.html">25.3. 高级用法</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.session.advancedusage.html#zend.session.startingasession">25.3.1. 开启会话</a></span></dt>
<dt><span class="sect2"><a href="zend.session.advancedusage.html#zend.session.locking">25.3.2. 锁住会话命名空间</a></span></dt>
<dt><span class="sect2"><a href="zend.session.advancedusage.html#zend.session.controllers">25.3.3. 会话封装和控制器</a></span></dt>
<dt><span class="sect2"><a href="zend.session.advancedusage.html#zend.session.limitinginstances">25.3.4. 限制每个命名空间的Zend_Session_Namespace实例</a></span></dt>
<dt><span class="sect2"><a href="zend.session.advancedusage.html#zend.session.modifyingarray">25.3.5. 操作命名空间下的数组</a></span></dt>
<dt><span class="sect2"><a href="zend.session.advancedusage.html#zend.session.auth">25.3.6. 在身份验证中使用会话</a></span></dt>
<dt><span class="sect2"><a href="zend.session.advancedusage.html#zend.session.testing">25.3.7. 在单元测试中使用会话</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.session.globalsessionmanagement.html">25.4. 全局会话管</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.setoptions">25.4.1. Zend_Session::setOptions()</a></span></dt>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.options">25.4.2. 选项</a></span></dt>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.regenerateid">25.4.3. regenerateId()</a></span></dt>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.rememberme">25.4.4. rememberMe(integer $seconds)</a></span></dt>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.forgetme">25.4.5. forgetMe()</a></span></dt>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.sessionexists">25.4.6. sessionExists()</a></span></dt>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.destroy">25.4.7. destroy(bool $remove_cookie = true, bool $readonly = true)</a></span></dt>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.stop">25.4.8. stop()</a></span></dt>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.writeClose">25.4.9. writeClose($readonly = true)</a></span></dt>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.expiresessioncookie">25.4.10. expireSessionCookie()</a></span></dt>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.savehandler">25.4.11. setSaveHandler(Zend_Session_SaveHandler_Interface $interface)</a></span></dt>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.namespaceisset">25.4.12. namespaceIsset($namespace, $name = null)</a></span></dt>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.namespaceunset">25.4.13. namespaceUnset($namespace, $name = null)</a></span></dt>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.namespaceget">25.4.14. namespaceGet($namespace, $name = null)</a></span></dt>
<dt><span class="sect2"><a href="zend.session.globalsessionmanagement.html#zend.session.getiterator">25.4.15. getIterator()</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.session.theory.html">25.5. 原理</a></span></dt>
</dl>
</div>
<div class="sect1" lang="zh-cn">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.session.introduction"></a>25.1. 简介</h2></div></div></div>
<p>
        参见<a href="http://framework.zend.com/wiki/display/ZFDOC/Zend_Session" target="_top">最新发布的文档</a>。Zend Framework Auth团队也非常期望在我们的邮件列表中（<a href="mailto:fw-auth@lists.zend.com" target="_top">fw-auth@lists.zend.com</a>）发表你的反馈和捐赠。
    </p>
<p>
	    在基于PHP开发的Web应用程序中，<span class="bold"><strong>会话(session)</strong></span>表现了服务器端(持久的状态数据)和特定的用户代理(user agent)客户端(比如web浏览器)之间的一对一的关系。Zend_Session用来在由相同客户端发起的多个页面请求之间，管理和保护会话数据（在逻辑上，会话数据是cookie数据的扩展）。不像cookie数据，会话数据不储存在客户端，且仅当服务器端程序源代码使得会话数据可用，才通过回应来自客户端的请求与客户端共享会话数据。这个组件及其文档的目的是，使用<code class="code">Zend_Session</code>组件来管理被称之为服务器端数据的会话数据，个别会话数据被<code class="code">Zend_Session_Namespace</code>访问器对象操作。<span class="bold"><strong>会话命名空间(Session Namespaces)</strong></span>提供了使用经典的<a href="http://en.wikipedia.org/wiki/Namespace_%28computer_science%29" target="_top">命名空间</a>方式来访问会话数据，命名空间逻辑上就是一系列被命名（键名为字符串）的联合数组（类似于普通的PHP数组）。
    </p>
<p>
	    <code class="code">Zend_Session_Namespace</code>创建<code class="code">$_SESSION[]</code>中命名空间的访问器对象实例。<code class="code">Zend_Session</code>组件包装了PHP内置的会话模块，提供了一个管理会话的接口，也为<code class="code">Zend_Session_Namespace</code>持久化命名空间数据提供了API。<code class="code">Zend_Session_Namespace</code>为会话命名空间数据到PHP内部会话机制的持久化提供了一个标准的、面向对象的接口。<code class="code">Zend_Session</code>支持现有无名的会话，同时也支持“登录会话”。ZF的用户验证组件<code class="code">Zend_Auth</code>，使用了<code class="code">Zend_Session_Namespace</code>，把用户的鉴别信息储存到了"Zend_Auth"命名空间下。因为<code class="code">Zend_Session</code>使用了PHP内置的会话函数，常用的配置选项和设置都仍然适用(请参考<a href="http://www.php.net/session" target="_top">http://www.php.net/session</a>)。如此，储存在cookie或者URL中的会话标识，保持了客户端与服务器端会话状态数据之间的联系。
    </p>
<p>
	    PHP默认的<a href="http://www.php.net/manual/en/function.session-set-save-handler.php" target="_top">session_save_handler函数</a>没有解决当客户端连接到了集群服务器中的一些服务器的情况下，保持客户端与服务器端会话状态数据之间联系的问题，因为会话状态数据只能储存在本地服务器当中（译注：也就是在各服务器间不能共享session数据）。当一组附加的且合理的save handlers可用时，我们会提供它。我们鼓励社区成员在我们的邮件列表<a href="mailto:fw-auth@lists.zend.com" target="_top">fw-auth@lists.zend.com</a>中发表你的建议或者提交save handlers。与Zend_Db兼容的save handler已经发表在邮件列表中。
    </p>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.service.yahoo.html">上一页</a> </td>
<td width="20%" align="center"> </td>
<td width="40%" align="right"> <a accesskey="n" href="zend.session.basicusage.html">下一页</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">24.5. Zend_Service_Yahoo </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td>
<td width="40%" align="right" valign="top"> 25.2. 基本用法</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
