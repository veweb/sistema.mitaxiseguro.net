<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Глава 9. Zend_Db</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="index.html" title="Руководство разработчика">
<link rel="up" href="index.html" title="Руководство разработчика">
<link rel="prev" href="zend.date.constants.html" title="8.5. Constants for General Date Functions">
<link rel="next" href="zend.db.profiler.html" title="9.2. Zend_Db_Profiler">
<link rel="chapter" href="zend.html" title="Глава 1. Zend">
<link rel="chapter" href="zend.acl.html" title="Глава 2. Zend_Acl">
<link rel="chapter" href="zend.auth.html" title="Глава 3. Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="Глава 4. Zend_Cache">
<link rel="chapter" href="zend.config.html" title="Глава 5. Zend_Config">
<link rel="chapter" href="zend.console.getopt.html" title="Глава 6. Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="Глава 7. Zend_Controller">
<link rel="chapter" href="zend.date.html" title="Глава 8. Zend_Date">
<link rel="chapter" href="zend.db.html" title="Глава 9. Zend_Db">
<link rel="chapter" href="zend.feed.html" title="Глава 10. Zend_Feed">
<link rel="chapter" href="zend.filter.html" title="Глава 11. Zend_Filter">
<link rel="chapter" href="zend.gdata.html" title="Глава 12. Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="Глава 13. Zend_Http">
<link rel="chapter" href="zend.json.html" title="Глава 14. Zend_Json">
<link rel="chapter" href="zend.locale.html" title="Глава 15. Zend_Locale">
<link rel="chapter" href="zend.log.html" title="Глава 16. Zend_Log">
<link rel="chapter" href="zend.mail.html" title="Глава 17. Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="Глава 18. Zend_Measure">
<link rel="chapter" href="zend.mime.html" title="Глава 19. Zend_Mime">
<link rel="chapter" href="zend.pdf.html" title="Глава 20. Zend_Pdf">
<link rel="chapter" href="zend.rest.html" title="Глава 21. Zend_Rest">
<link rel="chapter" href="zend.search.html" title="Глава 22. Zend_Search">
<link rel="chapter" href="zend.server.html" title="Глава 23. Zend_Server">
<link rel="chapter" href="zend.service.html" title="Глава 24. Zend_Service">
<link rel="chapter" href="zend.session.html" title="Глава 25. Zend_Session">
<link rel="chapter" href="zend.uri.html" title="Глава 26. Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="Глава 27. Zend_Validate">
<link rel="chapter" href="zend.view.html" title="Глава 28. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Глава 29. Zend_XmlRpc">
<link rel="appendix" href="coding-standard.html" title="Приложение A. Стандарт кодирования на PHP в Zend Framework'е">
<link rel="appendix" href="copyrights.html" title="Приложение B. Copyright Information">
<link rel="index" href="the.index.html" title="Предметный указатель">
<link rel="section" href="zend.db.html#zend.db.adapter" title="9.1. Zend_Db_Adapter">
<link rel="section" href="zend.db.profiler.html" title="9.2. Zend_Db_Profiler">
<link rel="section" href="zend.db.select.html" title="9.3. Zend_Db_Select">
<link rel="section" href="zend.db.table.html" title="9.4. Zend_Db_Table">
<link rel="section" href="zend.db.tablerow.html" title="9.5. Zend_Db_Table_Row">
<link rel="section" href="zend.db.tablerowset.html" title="9.6. Zend_Db_Table_Rowset">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Глава 9. Zend_Db</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.date.constants.html">Пред.</a> </td>
<th width="60%" align="center"> </th>
<td width="20%" align="right"> <a accesskey="n" href="zend.db.profiler.html">След.</a>
</td>
</tr>
</table></div>
<div class="chapter" lang="ru">
<div class="titlepage"><div><div><h2 class="title">
<a name="zend.db"></a>Глава 9. Zend_Db</h2></div></div></div>
<div class="toc">
<p><b>Содержание</b></p>
<dl>
<dt><span class="sect1"><a href="zend.db.html#zend.db.adapter">9.1. Zend_Db_Adapter</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.introduction">9.1.1. Введение</a></span></dt>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.quoting">9.1.2. Добавление кавычек для предотвращения SQL-инъекций</a></span></dt>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.queries">9.1.3. Прямые запросы</a></span></dt>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.transactions">9.1.4. Транзакции</a></span></dt>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.insert">9.1.5. Вставка строк</a></span></dt>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.update">9.1.6. Обновление строк</a></span></dt>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.delete">9.1.7. Удаление строк</a></span></dt>
<dt><span class="sect2"><a href="zend.db.html#zend.db.adapter.fetch">9.1.8. Извлечение строк</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.db.profiler.html">9.2. Zend_Db_Profiler</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.db.profiler.html#zend.db.profiler.introduction">9.2.1. Введение</a></span></dt>
<dt><span class="sect2"><a href="zend.db.profiler.html#zend.db.profiler.using">9.2.2. Использование профайлера</a></span></dt>
<dt><span class="sect2"><a href="zend.db.profiler.html#zend.db.profiler.advanced">9.2.3. Расширенное использование профайлера</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.db.select.html">9.3. Zend_Db_Select</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.introduction">9.3.1. Введение</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.fromcols">9.3.2. Извлечение столбцов</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.joincols">9.3.3. Объединение таблиц</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.where">9.3.4. Условия WHERE</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.group">9.3.5. Группировка</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.having">9.3.6. Условия HAVING</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.order">9.3.7. Сортировка</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.limit">9.3.8. Ограничение по количеству строк и смещению</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#zend.db.select.paging">9.3.9. Ограничение по странице и количеству строк</a></span></dt>
<dt><span class="sect2"><a href="zend.db.select.html#id4835341">9.3.10. Другие методы</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.db.table.html">9.4. Zend_Db_Table</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.introduction">9.4.1. Введение</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.getting-started">9.4.2. Начало работы</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.name-and-key">9.4.3. Имя таблицы и первичные ключи</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.insert">9.4.4. Вставка строк</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.udpate">9.4.5. Обновление строк</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.delete">9.4.6. Удаление строк</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.findbykey">9.4.7. Поиск строк по первичному ключу</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.fetchonerow">9.4.8. Извлечение одной строки</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.fetchmultiple">9.4.9. Извлечение множества строк</a></span></dt>
<dt><span class="sect2"><a href="zend.db.table.html#zend.db.table.domain-logic">9.4.10. 
            Добавление логики предметной области
            
        </a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.db.tablerow.html">9.5. Zend_Db_Table_Row</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.db.tablerow.html#zend.db.table.row.introduction">9.5.1. Введение</a></span></dt>
<dt><span class="sect2"><a href="zend.db.tablerow.html#zend.db.table.row.fetch">9.5.2. Извлечение строки</a></span></dt>
<dt><span class="sect2"><a href="zend.db.tablerow.html#zend.db.table.row.modify">9.5.3. Изменение значений</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="zend.db.tablerowset.html">9.6. Zend_Db_Table_Rowset</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="zend.db.tablerowset.html#zend.db.table.rowset.introduction">9.6.1. Введение</a></span></dt>
<dt><span class="sect2"><a href="zend.db.tablerowset.html#zend.db.table.rowset.fetch">9.6.2. Извлечение набора строк</a></span></dt>
<dt><span class="sect2"><a href="zend.db.tablerowset.html#zend.db.table.rowset.iterate">9.6.3. Итерация набора строк</a></span></dt>
</dl></dd>
</dl>
</div>
<div class="sect1" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.db.adapter"></a>9.1. Zend_Db_Adapter</h2></div></div></div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.introduction"></a>9.1.1. Введение</h3></div></div></div>
<p>
            <code class="code">Zend_Db_Adapter</code> является абстрактным слоем доступа к интерфейсу БД для Zend
            Framework. Вы можете использовать основанный на PDO <code class="code">Zend_Db_Adapter</code>
            для подключения и работы с любой СУБД, поддерживающей SQL, используя один и тот же
            интерфейс. В число таких СУБД входят Microsoft SQL Server, MySQL, PostgreSQL, SQLite и другие.

        </p>
<p>
            Для того, чтобы создать экземпляр <code class="code">Zend_Db_Adapter</code> для вашей
            конкретной СУБД, вам нужно вызвать метод <code class="code">Zend_Db::factory()</code> с именем
            адаптера и массивом параметров, описывающих соединение. Например, подключение к
            базе данных MySQL с именем "camelot" на локальном хосте под именем пользователя
            "malory":

        </p>
<pre class="programlisting">&lt;?php

require_once 'Zend/Db.php';

$params = array ('host'     =&gt; '127.0.0.1',
                 'username' =&gt; 'malory',
                 'password' =&gt; '******',
                 'dbname'   =&gt; 'camelot');

$db = Zend_Db::factory('PDO_MYSQL', $params);

?&gt;</pre>
<p>
            Подключение к базе данных SQLite с именем "camelot" производится аналогичным образом:

        </p>
<pre class="programlisting">&lt;?php

require_once 'Zend/Db.php';

$params = array ('dbname' =&gt; 'camelot');

$db = Zend_Db::factory('PDO_SQLITE', $params);

?&gt;</pre>
<p>
            И в том, и в другом случае вы можете использовать один и тот же
            API для того, чтобы делать запросы к базе данных.

        </p>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.quoting"></a>9.1.2. Добавление кавычек для предотвращения SQL-инъекций</h3></div></div></div>
<p>
            Вы должны всегда окружать кавычками значения, которые подставляются в оператор
            SQL — это поможет предотвратить атаки посредством SQL-инъекций.
            <code class="code">Zend_Db_Adapter</code> предоставляет два метода (посредством включенного
            объекта PDO) для того, чтобы облегчить самостоятельное добавление
            кавычек к значениям.

        </p>
<p>
            Первый из них — метод <code class="code">quote()</code>. Он должным образом добавит
            кавычки в скалярное значение в соответствии с вашим адаптером БД. Если вы
            пытаетесь добавить кавычки в массив, то метод вернет строку из разделенных запятыми
            значений массива с добавленными кавычками (это полезно для
            функций, которые принимают список параметров).

        </p>
<pre class="programlisting">&lt;?php

// создается объект $db, предполагается, что адаптером является Mysql

// добавление кавычек в строку
$value = $db-&gt;quote('St John"s Wort');
// значением $value сейчас является строка '"St John\"s Wort"'
// (обратите внимание на окружающие кавычки)

// добавление кавычек в массив
$value = $db-&gt;quote(array('a', 'b', 'c');
// значением $value сейчас является '"a", "b", "c"'
// (разделенная запятыми строка)

?&gt;</pre>
<p>
            Вторым является метод <code class="code">quoteInto()</code>. Вы передаете в него строку-основу
            с указанием меток заполнения в виде вопросительных знаков и после одно скалярное
            значение или массив для подстановки с добавлением кавычек. Это
            полезно для построения запросов и условий в порядке следования.
            Скалярные значения и массивы обрабатываются точно так же, как в методе
            <code class="code">quote()</code>.

        </p>
<pre class="programlisting">&lt;?php
	
// создается объект $db, предполагается, что адаптером является Mysql

// подстановка скалярного значения в условие WHERE
$where = $db-&gt;quoteInto('id = ?', 1);
// значением $where сейчас является 'id = "1"'
// (обратите внимание на добавленные кавычки)

// подстановка массива в условие WHERE
$where = $db-&gt;quoteInto('id IN(?)', array(1, 2, 3));
// значением $where сейчас является 'id IN("1", "2", "3")'
// (разделенная запятыми строка)

?&gt;</pre>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.queries"></a>9.1.3. Прямые запросы</h3></div></div></div>
<p>
            Имея экземпляр <code class="code">Zend_Db_Adapter</code>, вы можете выполнять
            запросы непосредственно в SQL. <code class="code">Zend_Db_Adapter</code> переадресует
            эти запросы базовому объекту PDO, который подготавливает и выполняет их,
            затем возвращает объект <code class="code">PDOStatement</code> для ваших
            манипуляций с результатами (если они есть).

        </p>
<pre class="programlisting">&lt;?php
	
// создается объект $db и затем делается запрос к БД
// с оператором SQL, в который подставлено значение с добавлением кавычек
$sql = $db-&gt;quoteInto(
    'SELECT * FROM example WHERE date &gt; ?',
    '2006-01-01'
);
$result = $db-&gt;query($sql);

// используется PDOStatement $result, чтобы извлечь все строки результата в массив
$rows = $result-&gt;fetchAll();

?&gt;</pre>
<p>
            Вы можете автоматически связывать все данные в вашем запросе. Это означает, что
            вы можете устанавливать в запросе именованные метки заполнения и
            затем передавать массив данных, замещающих эти метки.  В замещающие данные
            автоматически добавляются кавычки, обеспечивая большую защиту от
            атак с применением SQL-инъекций.

        </p>
<pre class="programlisting">&lt;?php
	
// создается объект $db и затем делается запрос к БД
// на этот раз используется связывание меток заполнения
$result = $db-&gt;query(
    'SELECT * FROM example WHERE date &gt; :placeholder',
    array('placeholder' =&gt; '2006-01-01')
);

// используется PDOStatement $result, чтобы извлечь все строки результата в массив
$rows = $result-&gt;fetchAll();

?&gt;</pre>
<p>
            Возможно, вы захотите подготавливать и связывать данные в операторах SQL
            вручную. Для этого используйте метод <code class="code">prepare()</code> для получения
            подготовленного <code class="code">PDOStatement</code>, с которым вы можете
            работать непосредственно.

        </p>
<pre class="programlisting">&lt;?php
	
// создается объект $db и затем делается запрос к БД
// на этот раз подготавливается PDOStatement для связки значений вручную
$stmt = $db-&gt;prepare('SELECT * FROM example WHERE date &gt; :placeholder');
$stmt-&gt;bindValue('placeholder', '2006-01-01');
$stmt-&gt;execute();

// используется PDOStatement $result,
// чтобы извлечь все строки результата в массив
$rows = $stmt-&gt;fetchAll();

?&gt;</pre>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.transactions"></a>9.1.4. Транзакции</h3></div></div></div>
<p>
            По умолчанию PDO (и, соответственно, <code class="code">Zend_Db_Adapter</code>) находится в режиме
            автоматического завершения транзакции (auto-commit). Это означает, что все изменения
            сохраняются, как только они выполнены. Если вы хотите выполнять операторы внутри
            транзакций, просто вызывайте  метод <code class="code">beginTransaction()</code>, затем
            либо <code class="code">commit()</code> для сохранения изменений, либо <code class="code">rollBack()</code>,
            чтобы отменить изменения.

        </p>
<pre class="programlisting">&lt;?php
	
// создается объект $db и затем устанавливается начало транзакции
$db-&gt;beginTransaction();

// попытка сделать запрос
// если запрос успешный, то фиксация изменений
// если неудача, то откат
try {
    $db-&gt;query(...);
    $db-&gt;commit();
} catch (Exception $e) {
    $db-&gt;rollBack();
    echo $e-&gt;getMessage();
}

?&gt;</pre>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.insert"></a>9.1.5. Вставка строк</h3></div></div></div>
<p>
            В качестве дополнительного удобства вы можете использовать метод
            <code class="code">insert()</code> для создания
            оператора INSERT и связки данных для вставки. В данные для связывания
            автоматически подставляются кавычки для предотвращения атак с
            использованием SQL-инъекций.

        </p>
<p>
            Возвращаемое значение <span class="emphasis"><em>не является</em></span> последним сгенерированным
            идентификатором, поскольку таблица может не иметь столбцы с автоинкрементом. Вместо
            этого возвращается количество затронутых строк (обычно 1). Если вы хотите получать
            идентификатор последней добавленной записи, вызывайте после вставки метод
            <code class="code">lastInsertId()</code>.

        </p>
<pre class="programlisting">&lt;?php
	
//
// INSERT INTO round_table
//     (noble_title, first_name, favorite_color)
//     VALUES ("King", "Arthur", "blue");
//

// создается объект $db

// массив данных для подстановки в формате 'имя столбца' =&gt; 'значение'
$row = array (
    'noble_title'    =&gt; 'King',
    'first_name'     =&gt; 'Arthur',
    'favorite_color' =&gt; 'blue',
);

// таблица, в которую должна быть вставлена строка
$table = 'round_table';

// вставка строки и получение ID строки
$rows_affected = $db-&gt;insert($table, $row);
$last_insert_id = $db-&gt;lastInsertId();

?&gt;</pre>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.update"></a>9.1.6. Обновление строк</h3></div></div></div>
<p>
            В качестве дополнительного удобства вы можете использовать метод
            <code class="code">update()</code> для создания оператора UPDATE и присвоения
            данных для обновления. В данные для связывания
            автоматически подставляются кавычки для предотвращения атак
            с использованием SQL-инъекций.

        </p>
<p>
            Вы можете передавать необязательное условие WHERE для того, чтобы указать,
            какие строки обновить. (Заметьте, что условие WHERE не является
            параметром для связывания, поэтому вам нужно самостоятельно добавить
            кавычки для значений в этом условии).

        </p>
<pre class="programlisting">&lt;?php
	
//
// UPDATE round_table
//     SET favorite_color = "yellow"
//     WHERE first_name = "Robin";
//

// создается объект $db

// новые значения для установки в update, в формате 'имя столбца' =&gt; 'значение'.
$set = array (
    'favorite_color' =&gt; 'yellow',
);

// таблица для обновления
$table = 'round_table';

// условие WHERE
$where = $db-&gt;quoteInto('first_name = ?', 'Robin');

// обновление таблицы и получение количества затронутых строк
$rows_affected = $db-&gt;update($table, $set, $where);

?&gt;</pre>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.delete"></a>9.1.7. Удаление строк</h3></div></div></div>
<p>
            В качестве дополнительного удобства вы можете использовать метод
            <code class="code">delete()</code> для создания оператора DELETE.
            Вы можете предоставлять необязательное условие WHERE для указания, какие строки
            удалить. (Заметьте, что условие WHERE не является параметром для связывания,
            поэтому вам нужно самостоятельно добавить кавычки для значений в этом условии).

        </p>
<pre class="programlisting">&lt;?php
	
//
// DELETE FROM round_table
//     WHERE first_name = "Patsy";
//

// создается объект $db

// таблица для удаления
$table = 'round_table';

// условие WHERE
$where = $db-&gt;quoteInto('first_name = ?', 'Patsy');

// удаление из таблицы и получение количества затронутых строк
$rows_affected = $db-&gt;delete($table, $where);

?&gt;</pre>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.db.adapter.fetch"></a>9.1.8. Извлечение строк</h3></div></div></div>
<p>
            Несмотря на то, что вы можете делать запросы непосредственно в БД с помощью метода
            <code class="code">query()</code>, зачастую все, что вам нужно сделать, — это выполнение
            оператора SELECT и получение результатов. Набор методов <code class="code">fetch*()</code>
            сделает это за вас. Для каждого из этих методов вы передаете SQL-оператор SELECT.
            Если вы используете именованные метки замещения, то можете передавать еще массив
            значений связывания для замещения в данном операторе с добавлением кавычек.
            Методами <code class="code">fetch*()</code> являются:

        </p>
<div class="itemizedlist"><ul type="disc">
<li><p><code class="code">fetchAll()</code></p></li>
<li><p><code class="code">fetchAssoc()</code></p></li>
<li><p><code class="code">fetchCol()</code></p></li>
<li><p><code class="code">fetchOne()</code></p></li>
<li><p><code class="code">fetchPairs()</code></p></li>
<li><p><code class="code">fetchRow()</code></p></li>
</ul></div>
<pre class="programlisting">&lt;?php
	
// создается объект $db

// извлечение всех столбцов и всех строк в виде индексного массива
$result = $db-&gt;fetchAll(
    "SELECT * FROM round_table WHERE noble_title = :title",
    array('title' =&gt; 'Sir')
);

// извлечение всех столбцов и всех строк в виде ассоциативного массива
// первый столбец используется как ключ массива
$result = $db-&gt;fetchAssoc(
    "SELECT * FROM round_table WHERE noble_title = :title",
    array('title' =&gt; 'Sir')
);

// извлечение одного столбца для всех строк
$result = $db-&gt;fetchCol(
    "SELECT first_name FROM round_table WHERE noble_title = :title",
    array('title' =&gt; 'Sir')
);

// извлечение одного значения
$result = $db-&gt;fetchOne(
    "SELECT COUNT(*) FROM round_table WHERE noble_title = :title",
    array('title' =&gt; 'Sir')
);

// извлечение последовательности пар ключ-значение;
// первый столбец является ключом массива,
// второй - значением массива
$result = $db-&gt;fetchPairs(
    "SELECT first_name, favorite_color FROM round_table WHERE noble_title = :title",
    array('title' =&gt; 'Sir')
);

// извлечение только одной строки
$result = $db-&gt;fetchRow(
    "SELECT * FROM round_table WHERE first_name = :name",
    array('name' =&gt; 'Lancelot')
);

?&gt;</pre>
</div>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.date.constants.html">Пред.</a> </td>
<td width="20%" align="center"> </td>
<td width="40%" align="right"> <a accesskey="n" href="zend.db.profiler.html">След.</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">8.5. Constants for General Date Functions </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td>
<td width="40%" align="right" valign="top"> 9.2. Zend_Db_Profiler</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
