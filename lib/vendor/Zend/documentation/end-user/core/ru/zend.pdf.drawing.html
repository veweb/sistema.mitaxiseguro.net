<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>20.5. Рисование</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="index.html" title="Руководство разработчика">
<link rel="up" href="zend.pdf.html" title="Глава 20. Zend_Pdf">
<link rel="prev" href="zend.pdf.pages.html" title="20.4. Страницы документа">
<link rel="next" href="zend.pdf.usage.html" title="20.6. Пример использования модуля Zend_Pdf ">
<link rel="chapter" href="zend.html" title="Глава 1. Zend">
<link rel="chapter" href="zend.acl.html" title="Глава 2. Zend_Acl">
<link rel="chapter" href="zend.auth.html" title="Глава 3. Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="Глава 4. Zend_Cache">
<link rel="chapter" href="zend.config.html" title="Глава 5. Zend_Config">
<link rel="chapter" href="zend.console.getopt.html" title="Глава 6. Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="Глава 7. Zend_Controller">
<link rel="chapter" href="zend.date.html" title="Глава 8. Zend_Date">
<link rel="chapter" href="zend.db.html" title="Глава 9. Zend_Db">
<link rel="chapter" href="zend.feed.html" title="Глава 10. Zend_Feed">
<link rel="chapter" href="zend.filter.html" title="Глава 11. Zend_Filter">
<link rel="chapter" href="zend.gdata.html" title="Глава 12. Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="Глава 13. Zend_Http">
<link rel="chapter" href="zend.json.html" title="Глава 14. Zend_Json">
<link rel="chapter" href="zend.locale.html" title="Глава 15. Zend_Locale">
<link rel="chapter" href="zend.log.html" title="Глава 16. Zend_Log">
<link rel="chapter" href="zend.mail.html" title="Глава 17. Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="Глава 18. Zend_Measure">
<link rel="chapter" href="zend.mime.html" title="Глава 19. Zend_Mime">
<link rel="chapter" href="zend.pdf.html" title="Глава 20. Zend_Pdf">
<link rel="chapter" href="zend.rest.html" title="Глава 21. Zend_Rest">
<link rel="chapter" href="zend.search.html" title="Глава 22. Zend_Search">
<link rel="chapter" href="zend.server.html" title="Глава 23. Zend_Server">
<link rel="chapter" href="zend.service.html" title="Глава 24. Zend_Service">
<link rel="chapter" href="zend.session.html" title="Глава 25. Zend_Session">
<link rel="chapter" href="zend.uri.html" title="Глава 26. Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="Глава 27. Zend_Validate">
<link rel="chapter" href="zend.view.html" title="Глава 28. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Глава 29. Zend_XmlRpc">
<link rel="appendix" href="coding-standard.html" title="Приложение A. Стандарт кодирования на PHP в Zend Framework'е">
<link rel="appendix" href="copyrights.html" title="Приложение B. Copyright Information">
<link rel="index" href="the.index.html" title="Предметный указатель">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.geometry" title="20.5.1. Геометрия">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.color" title="20.5.2. Цвета">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.shape-drawing" title="20.5.3. Рисование фигур">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.text-drawing" title="20.5.4. Написание текста">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.using-fonts" title="20.5.5. Применение шрифтов">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.image-drawing" title="20.5.6. Рисование изображений">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.line-drawing-style" title="20.5.7. Стили рисования линий">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.fill-style" title="20.5.8. Стиль заполнения">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.rotations" title="20.5.9. Поворот">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.save-restore" title="20.5.10. Сохранение/восстановление графического состояния">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.clipping" title="20.5.11. Ограничение области рисования">
<link rel="subsection" href="zend.pdf.drawing.html#zend.pdf.drawing.styles" title="20.5.12. Стили">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">20.5. Рисование</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.pdf.pages.html">Пред.</a> </td>
<th width="60%" align="center">Глава 20. Zend_Pdf</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.pdf.usage.html">След.</a>
</td>
</tr>
</table></div>
<div class="sect1" lang="ru">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.pdf.drawing"></a>20.5. Рисование</h2></div></div></div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.geometry"></a>20.5.1. Геометрия</h3></div></div></div>
<p>
        PDF использует ту же самую геометрию, что и PostScript. Она начинается с
        нижнего левого угла страницы и по умолчанию измеряется в пойнтах (1/72 дюйма). 

        </p>
<p>
        Размер страницы может быть получен из объекта страницы:

        </p>
<pre class="programlisting">
$width  = $pdfPage-&gt;getWidth();
$height = $pdfPage-&gt;getHeight();
        </pre>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.color"></a>20.5.2. Цвета</h3></div></div></div>
<p>
        PDF имеет мощные возможности для представления цветов. Модуль Zend_Pdf
        поддерживает шкалу серого цвета, цветовые пространства RGB и CMYK.
        Они могут использоваться в любом месте, где требуется объект
        <code class="code">Zend_Pdf_Color</code>. Классы <code class="code">Zend_Pdf_Color_GrayScale</code>,
        <code class="code">Zend_Pdf_Color_RGB</code> и <code class="code">Zend_Pdf_Color_CMYK</code>
        предоставляют этот функционал:

        </p>
<pre class="programlisting">
// $grayLevel (число с плавающей точкой)
// 0.0 (черный) - 1.0 (белый)
$color1 = new Zend_Pdf_Color_GrayScale($grayLevel);

// $r, $g, $b (числа с плавающей точкой)
// 0.0 (минимальная интенсивность) - 1.0 (максимальная интенсивность)
$color2 = new Zend_Pdf_Color_RGB($r, $g, $b);

// $c, $m, $y, $k (числа с плавающей точкой)
// 0.0 (минимальная интенсивность) - 1.0 (максимальная интенсивность)
$color3 = new Zend_Pdf_Color_CMYK($c, $m, $y, $k);
        </pre>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.shape-drawing"></a>20.5.3. Рисование фигур</h3></div></div></div>
<p>
        Все операции прорисовки могут быть выполнены в контексте страницы PDF.

        </p>
<p>
        Класс <code class="code">Zend_Pdf_Page</code> предоставляет набор примитивов для рисования:

        </p>
<pre class="programlisting">
/**
 * Рисует линию от x1,y1 до x2,y2.
 *
 * @param float $x1
 * @param float $y1
 * @param float $x2
 * @param float $y2
 */
public function drawLine($x1, $y1, $x2, $y2);
        </pre>
<pre class="programlisting">
/**
 * Рисует прямоугольник.
 *
 * Fill types:
 * Zend_Pdf_Const::SHAPEDRAW_FILLNSTROKE - заполнить прямоугольник и заштриховать (значение по умолчанию)
 * Zend_Pdf_Const::SHAPEDRAW_STROKE      - заштриховать прямоугольник
 * Zend_Pdf_Const::SHAPEDRAW_FILL        - заполнить прямоугольник
 *
 * @param float $x1
 * @param float $y1
 * @param float $x2
 * @param float $y2
 * @param integer $fillType
 */
public function drawRectangle($x1, $y1, $x2, $y2, $fillType = Zend_Pdf_Const::SHAPEDRAW_FILLNSTROKE);
        </pre>
<pre class="programlisting">
/**
 * Риcует многоугольник.
 *
 * Если $fillType (тип заполнения) равен Zend_Pdf_Const::SHAPEDRAW_FILLNSTROKE
 * или Zend_Pdf_Const::SHAPEDRAW_FILL, то многоугольник будет автоматически замкнут.
 * См. более подробное описание этих методов в документации PDF
 * (section 4.4.2 Path painting Operators, Filling)
 *
 * @param array $x  - массив чисел с плавающей точкой (X-координаты вершин)
 * @param array $y  - массив чисел с плавающей точкой (Y-координаты вершин)
 * @param integer $fillType
 * @param integer $fillMethod
 */
public function drawPolygon($x, $y,
                            $fillType = Zend_Pdf_Const::SHAPEDRAW_FILLNSTROKE,
                            $fillMethod = Zend_Pdf_Const::FILLMETHOD_NONZEROWINDING);
        </pre>
<pre class="programlisting">
/**
 * Рисует окружность, центр которой находится в точке с координатами x и y,
 * с радиусом radius.
 *
 * Углы задаются в радианах.
 *
 * Сигнатуры метода:
 * drawCircle($x, $y, $radius);
 * drawCircle($x, $y, $radius, $fillType);
 * drawCircle($x, $y, $radius, $startAngle, $endAngle);
 * drawCircle($x, $y, $radius, $startAngle, $endAngle, $fillType);
 *
 *
 * Это не настоящая окружность, так как PDF поддерживает только кубические кривые Безье.
 * Но в очень хорошем приближении.
 * Она отличается от реальной окружности максимум на 0.00026 доли радиуса
 * (на углах PI/8, 3*PI/8, 5*PI/8, 7*PI/8, 9*PI/8, 11*PI/8, 13*PI/8 и 15*PI/8).
 * На углах 0, PI/4, PI/2, 3*PI/4, PI, 5*PI/4, 3*PI/2 и 7*PI/4 это точная касательная к окружности.
 *
 * @param float $x
 * @param float $y
 * @param float $radius
 * @param mixed $param4
 * @param mixed $param5
 * @param mixed $param6
 */
public function  drawCircle($x, $y, $radius, $param4 = null, $param5 = null, $param6 = null);
        </pre>
<pre class="programlisting">
/**
 * Рисует эллипс внутри заданного прямоугольника.
 *
 * Сигнатуры метода:
 * drawEllipse($x1, $y1, $x2, $y2);
 * drawEllipse($x1, $y1, $x2, $y2, $fillType);
 * drawEllipse($x1, $y1, $x2, $y2, $startAngle, $endAngle);
 * drawEllipse($x1, $y1, $x2, $y2, $startAngle, $endAngle, $fillType);
 *
 * Углы задаются в радианах.
 *
 * @param float $x1
 * @param float $y1
 * @param float $x2
 * @param float $y2
 * @param mixed $param5
 * @param mixed $param6
 * @param mixed $param7
 */
public function drawEllipse($x1, $y1, $x2, $y2, $param5 = null, $param6 = null, $param7 = null);
        </pre>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.text-drawing"></a>20.5.4. Написание текста</h3></div></div></div>
<p>
        Операции по написанию текста также существуют в контексте страницы PDF. 

        </p>
<pre class="programlisting">
/**
 * Выводит строку текста в заданной позиции.
 *
 * @param string $text
 * @param float $x
 * @param float $y
 * @throws Zend_Pdf_Exception
 */
public function drawText($text, $x, $y );
        </pre>
<p>
        Для написания текста используются текущий шрифт и его текущий размер. См.
        подробное описание ниже.

        </p>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.using-fonts"></a>20.5.5. Применение шрифтов</h3></div></div></div>
<p>
        Метод <code class="code">Zend_Pdf_Page::drawText()</code> использует текущий шрифт,
        который может быть установлен методом <code class="code">Zend_Pdf_Page::setFont()</code>: 

        </p>
<pre class="programlisting">
/**
 * Устанавливает текущий шрифт.
 *
 * @param Zend_Pdf_Font $font
 * @param float $fontSize
 */
public function setFont(Zend_Pdf_Font $font, $fontSize);
        </pre>
<p>
        PDF поддерживает Type1, TrueType, Type3 и составные шрифты. Он предоставляет еще
        14 стандартных шрифтов Type1. На данный момент модуль <code class="code">Zend_Pdf</code>
        предусматривает только эти стандартные шрифты. Они могут быть получены
        с помощью класса <code class="code">Zend_Pdf_Font_Standard</code>. Конкретный шрифт
        указывается в качестве аргумента конструктора.

        </p>
<div class="example">
<a name="id4882061"></a><p class="title"><b>Пример 20.5. Создание стандартного шрифта</b></p>
<pre class="programlisting">&lt;?php
...
// Создание нового шрифта
$font = new Zend_Pdf_Font_Standard(Zend_Pdf_Const::FONT_HELVETICA);

// Применение шрифта
$pdfPage-&gt;setFont($font, 36);
...
?&gt;
            </pre>
</div>
<p>
        Константы для 14 стандартных шрифтов определены с помощью
        класса <code class="code">Zend_Pdf_Const</code>:

        </p>
<div class="itemizedlist"><ul type="disc">
<li><p>Zend_Pdf_Const::FONT_TIMES_ROMAN</p></li>
<li><p>Zend_Pdf_Const::FONT_TIMES_BOLD</p></li>
<li><p>Zend_Pdf_Const::FONT_TIMES_ITALIC</p></li>
<li><p>Zend_Pdf_Const::FONT_TIMES_BOLDITALIC</p></li>
<li><p>Zend_Pdf_Const::FONT_HELVETICA</p></li>
<li><p>Zend_Pdf_Const::FONT_HELVETICA_BOLD</p></li>
<li><p>Zend_Pdf_Const::FONT_HELVETICA_ITALIC</p></li>
<li><p>Zend_Pdf_Const::FONT_HELVETICA_BOLDITALIC</p></li>
<li><p>Zend_Pdf_Const::FONT_COURIER</p></li>
<li><p>Zend_Pdf_Const::FONT_COURIER_BOLD</p></li>
<li><p>Zend_Pdf_Const::FONT_COURIER_ITALIC</p></li>
<li><p>Zend_Pdf_Const::FONT_COURIER_BOLDITALIC</p></li>
<li><p>Zend_Pdf_Const::FONT_SYMBOL</p></li>
<li><p>Zend_Pdf_Const::FONT_ZAPFDINGBATS</p></li>
</ul></div>
<p>
        </p>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.image-drawing"></a>20.5.6. Рисование изображений</h3></div></div></div>
<p>
        Класс предоставляет метод <code class="code">drawImage()</code> для рисования изображений.

        </p>
<pre class="programlisting">
/**
 * Рисует изображение в заданной позиции на странице.
 *
 * @param Zend_Pdf_Image $image
 * @param float $x1
 * @param float $y1
 * @param float $x2
 * @param float $y2
 */
public function drawImage(Zend_Pdf_Image $image, $x1, $y1, $x2, $y2);
        </pre>
<p>
        Объекты изображения представляются потомками класса <code class="code">Zend_Pdf_Image</code>.

        </p>
<p>
        Сейчас поддерживаются изображения JPG, PNG и TIFF.

        </p>
<div class="example">
<a name="id4886549"></a><p class="title"><b>Пример 20.6. Рисование изображений</b></p>
<pre class="programlisting">&lt;?php
...
//Создаем объект изображения непосредственно
$image = new Zend_Pdf_Image_JPEG('my_image.jpg');
$image = new Zend_Pdf_Image_TIFF('my_image.tiff');
$image = new Zend_Pdf_Image_PNG('my_image.png');

//либо используем Zend_Pdf_ImageFactory для загрузки соответствующего типа
$image = Zend_Pdf_ImageFactory::factory('my_image.jpg');

$pdfPage-&gt;drawImage($image, 100, 100, 400, 300);
...
?&gt;
            </pre>
</div>
<p>
            <span class="emphasis"><em>Важно! Класс <code class="code">Zend_Pdf_Image_JPEG</code> требует
            сконфигурированного расширения GD.</em></span>
            <span class="emphasis"><em>Важно! Класс <code class="code">Zend_Pdf_Image_PNG</code> требует
            расширения ZLIB, сконфигурированного для работы с изображениями с Альфа-каналом.</em></span>

        </p>
<p>
            См. документацию PHP за более подробной информацией 
            (<a href="http://www.php.net/manual/en/ref.image.php" target="_top">http://www.php.net/manual/en/ref.image.php</a>).
            (<a href="http://www.php.net/manual/en/ref.zlib.php" target="_top">http://www.php.net/manual/en/ref.zlib.php</a>).

        </p>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.line-drawing-style"></a>20.5.7. Стили рисования линий</h3></div></div></div>
<p>
        Стили рисования линий определяются толщиной линии, цветом линии и шаблоном
        пунктира. Все эти параметры могут быть определены методами класса
        <code class="code">Zend_Pdf_Page</code>.

        </p>
<pre class="programlisting">
/** Установка цвета линии. */
public function setLineColor(Zend_Pdf_Color $color);

/** Установка толщины линии. */
public function setLineWidth(float $width);

/**
 * Установка шаблона пунктира.
 *
 * $pattern (шаблон) является массивом чисел с плавающей точкой:
 * array(on_length, off_length, on_length, off_length, ...)
 * $phase (фаза) является сдвигом от начала линии.
 *
 * @param array $pattern
 * @param array $phase
 */
public function setLineDashingPattern($pattern, $phase = 0);
        </pre>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.fill-style"></a>20.5.8. Стиль заполнения</h3></div></div></div>
<p>
        Методы <code class="code">Zend_Pdf_Page::drawRectangle()</code>, <code class="code">Zend_Pdf_Page::drawPoligon()</code>,
        <code class="code">Zend_Pdf_Page::drawCircle()</code> и <code class="code">Zend_Pdf_Page::drawEllipse()</code>
        принимают аргумент <code class="code">$fillType</code> как необязательный параметр.
        Это может быть: 

        </p>
<div class="itemizedlist"><ul type="disc">
<li><p>
                Zend_Pdf_Const::SHAPEDRAW_STROKE - штрихует фигуру 
                </p></li>
<li><p>
                Zend_Pdf_Const::SHAPEDRAW_FILL - заполняет фигуру 
                </p></li>
<li><p>
                Zend_Pdf_Const::SHAPEDRAW_FILLNSTROKE - заполняет и штрихует (поведение по умолчанию)
                
                </p></li>
</ul></div>
<p>
        Метод <code class="code">Zend_Pdf_Page::drawPoligon()</code> принимает дополнительный
        параметр <code class="code">$fillMethod</code>:

        </p>
<div class="itemizedlist"><ul type="disc">
<li>
<p>
                Zend_Pdf_Const::FILLMETHOD_NONZEROWINDING (поведение по умолчанию)
                
                </p>
<p>
                <em class="citetitle">Справка по PDF</em> описывает это правило
                следующим образом:
                </p>
<div class="blockquote"><blockquote class="blockquote"><p>
                        Правило ненулевого количества витков определяет, находится ли
                        данная точка внутри траектории путем мысленного
                        проведения луча из этой точки в бесконечность в любом направлении
                        и последующего определения мест, где участок траектории пересекает луч.
                        Начиная отсчет с нуля, правило добавляет 1 каждый раз, когда
                        участок траектории пересекает луч слева направо и отнимает 1
                        каждый раз, когда участок траектории пересекает участок справа налево.
                        Если после подсчета всех пересечений результатом будет 0, то точка
                        находится вне траектории, иначе — внутри траектории. 
                        
                        Примечание: Метод не указывает, что делать, если участок траектории
                        совпадает или является касательной к выбранному лучу. Поскольку
                        направление луча является произвольным, правило просто выбирает
                        луч, который не создает таких пересечений. Для простых выпуклых
                        траекторий правило ненулевого количества витков определяет
                        внутреннюю и внешнюю части так, как это интуитивно предполагается.
                        Более интересными случаями являются те, которые включают в себя
                        сложные или самопересекающиеся траектории, как, например,
                        на Рис. 4.10 (в справке по PDF).
                        
                        Для траектории, представляющую собой пятиконечную звезду,
                        состоящую из пяти соединенных отрезков, правило считает внутренней
                        частью всю площадь, окруженную звездой, включая пятиугольник в
                        центре. Для траектории, состоящей из двух концентрических
                        окружностей, площадь, окруженная обеими окружностями,
                        считается внутренней в том случае, если обе окружности нарисованы
                        в одном и том же направлении. Если окружности нарисованы в противоположных
                        направлениях, то, согласно правилу, только фигура в виде
                        баранки между ними будет внутренней частью, "дырка"
                        будет внешней частью.
                    </p></blockquote></div>
<p>

            </p>
</li>
<li>
<p>Zend_Pdf_Const::FILLMETHOD_EVENODD</p>
<p>
                <em class="citetitle">Справка по PDF</em> описывает это правило
                следующим образом:
                </p>
<div class="blockquote"><blockquote class="blockquote"><p>
                        Альтернативой правилу ненулевого количества витков является правило
                        чета-нечета. Это правило определяет нахождение точки
                        проведением луча из этой точки в любом направлении и простым подсчетом
                        количества пересечений частей траектории с этим лучом, независимо от
                        направления пересечения. Если число нечетное, то точка находится
                        во внутренней части; если четное, то точка находится снаружи. Это
                        правило дает такой же результат, как и правило ненулевого
                        количества витков для траекторий с простыми фигурами, но дает
                        разные результаты в случае более сложных фигур.
                        
                        Рис. 4.11 (в справке по PDF) показывает результаты применения
                        правила чета-нечета к сложным фигурам. В случае пятиконечной
                        звезды правило считает точки треугольников находящимися
                        внутри траектории, но не пятиугольник в центре. Для двух
                        концентрических окружностей только фигура в виде баранки будет
                        считаться внутренней частью, независимо от направлений, в которых
                        нарисованы окружности.
                    </p></blockquote></div>
<p>

            </p>
</li>
</ul></div>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.rotations"></a>20.5.9. Поворот</h3></div></div></div>
<p>
        Страница PDF может быть повернута перед применением любых операций рисования.
        Это может быть сделано методом <code class="code">Zend_Pdf_Page::rotate()</code>: 

        </p>
<pre class="programlisting">
/**
 * Поворачивает страницу вокруг точки ($x, $y) на заданный угол (в радианах).
 *
 * @param float $angle
 */
public function rotate($x, $y, $angle);
        </pre>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.save-restore"></a>20.5.10. Сохранение/восстановление графического состояния</h3></div></div></div>
<p>
        В любое время графическое состояние страницы (текущий шрифт, размер шрифта,
        цвет линии, цвет заполнения, стиль линии, поворот страницы, область ограничения) может
        быть сохранено и после восстановлено. Операция сохранения сохраняет данные
        в стек графического состояния, операция восстановления извлекает данные из стека.

        </p>
<p>
        Методы в классе <code class="code">Zend_Pdf_Page</code> для этих операций:

        </p>
<pre class="programlisting">
/**
 * Сохраняет графическое состояние данной страницы.
 * Выполняет снимок используемых на данный момент стилей, положений, ... и всех
 * поворотов/преобразований/масштабирований которые были применены.
 * This takes a snapshot of the currently applied style, position, clipping area and
 * any rotation/translation/scaling that has been applied.
 */
public function saveGS();

/**
 * Восстанавливает графическое состояние, которое было сохранено последним
 * вызовом saveGS().
 */
public function restoreGS();
        </pre>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.clipping"></a>20.5.11. Ограничение области рисования</h3></div></div></div>
<p>
        PDF и модуль Zend_Pdf поддерживают ограничение области рисования.
        Ограничение определяет область страницы, затрагиваемой
        операциями рисования. Вначале эта область представляет собой всю
        страницу.

        </p>
<p>
        Класс <code class="code">Zend_Pdf_Page</code> предоставляет набор методов для операций ограничения.

        </p>
<pre class="programlisting">
/**
 * Делит текущую площадь ограничения с помощью прямоугольника.
 *
 * @param float $x1
 * @param float $y1
 * @param float $x2
 * @param float $y2
 */
public function clipRectangle($x1, $y1, $x2, $y2);
        </pre>
<pre class="programlisting">
/**
 * Делит текущую площадь ограничения с помощью многоугольника.
 *
 * @param array $x  - массив чисел с плавающей точкой (X-координаты верхушек)
 * @param array $y  - массив чисел с плавающей точкой (Y-координаты верхушек)
 * @param integer $fillMethod
 */
public function clipPolygon($x, $y, $fillMethod = Zend_Pdf_Const::FILLMETHOD_NONZEROWINDING);
        </pre>
<pre class="programlisting">
/**
 * Делит текущую площадь ограничения с помощью окружности.
 *
 * @param float $x
 * @param float $y
 * @param float $radius
 * @param float $startAngle
 * @param float $endAngle
 */
public function clipCircle($x, $y, $radius, $startAngle = null, $endAngle = null);
        </pre>
<pre class="programlisting">
/**
 * Делит текущую площадь ограничения с помощью эллипса.
 *
 * Сигнатуры метода:
 * drawEllipse($x1, $y1, $x2, $y2);
 * drawEllipse($x1, $y1, $x2, $y2, $startAngle, $endAngle);
 *
 * @todo обрабатывать случаи, когда $x2-$x1 == 0 или $y2-$y1 == 0
 *
 * @param float $x1
 * @param float $y1
 * @param float $x2
 * @param float $y2
 * @param float $startAngle
 * @param float $endAngle
 */
public function clipEllipse($x1, $y1, $x2, $y2, $startAngle = null, $endAngle = null);
        </pre>
</div>
<div class="sect2" lang="ru">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.pdf.drawing.styles"></a>20.5.12. Стили</h3></div></div></div>
<p>
        Класс <code class="code">Zend_Pdf_Style</code> предоставляет набор функциональных
        возможностей для работы со стилями. 

        </p>
<p>
        Стили могут использоваться для сохранения набора параметров графического
        состояния и применять их к странице PDF одной операцией:

        </p>
<pre class="programlisting">
/**
 * Установить стиль для будущих операций рисования на данной странице
 *
 * @param Zend_Pdf_Style $style
 */
public function setStyle(Zend_Pdf_Style $style);

/**
 * Возвращает стили, используемые на странице
 *
 * @return Zend_Pdf_Style|null
 */
public function getStyle();
        </pre>
<p>
        Класс <code class="code">Zend_Pdf_Style</code> предоставляет набор методов для установки
        или получения различных параметров графического состояния:

        </p>
<pre class="programlisting">
/**
 * Устанавливает цвет линии.
 *
 * @param Zend_Pdf_Color $color
 */
public function setLineColor(Zend_Pdf_Color $color);
        </pre>
<pre class="programlisting">
/**
 * Возвращает цвет линии.
 *
 * @return Zend_Pdf_Color|null
 */
public function getLineColor();
        </pre>
<pre class="programlisting">
/**
 * Устанавливает толщину линии.
 *
 * @param float $width
 */
public function setLineWidth($width);
        </pre>
<pre class="programlisting">
/**
 * Возвращает толщину линии.
 *
 * @return float
 */
public function getLineWidth();
        </pre>
<pre class="programlisting">
/**
 * Устанавливает шаблон пунктира.
 *
 * @param array $pattern
 * @param float $phase
 */
public function setLineDashingPattern($pattern, $phase = 0);
        </pre>
<pre class="programlisting">
/**
 * Возвращает шаблон пунктира.
 *
 * @return array
 */
public function getLineDashingPattern();
        </pre>
<pre class="programlisting">
/**
 * Возвращает фазу пунктира.
 *
 * @return float
 */
public function getLineDashingPhase();
        </pre>
<pre class="programlisting">
/**
 * Устанавливает цвет заполнения.
 *
 * @param Zend_Pdf_Color $color
 */
public function setFillColor(Zend_Pdf_Color $color);
        </pre>
<pre class="programlisting">
/**
 * Возвращает цвет заполнения.
 *
 * @return Zend_Pdf_Color|null
 */
public function getFillColor();
        </pre>
<pre class="programlisting">
/**
 * Устанавливает текущий шрифт.
 *
 * @param Zend_Pdf_Font $font
 * @param float $fontSize
 */
public function setFont(Zend_Pdf_Font $font, $fontSize);
        </pre>
<pre class="programlisting">
/**
 * Изменяет текущий размер шрифта
 *
 * @param float $fontSize
 */
public function setFontSize($fontSize);
        </pre>
<pre class="programlisting">
/**
 * Возвращает текущий шрифт.
 *
 * @return Zend_Pdf_Font $font
 */
public function getFont();
        </pre>
<pre class="programlisting">
/**
 * Возвращает текущий размер шрифта.
 *
 * @return float $fontSize
 */
public function getFontSize();
        </pre>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.pdf.pages.html">Пред.</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.pdf.html">Уровень выше</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.pdf.usage.html">След.</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">20.4. Страницы документа </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td>
<td width="40%" align="right" valign="top"> 20.6. Пример использования модуля Zend_Pdf </td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
