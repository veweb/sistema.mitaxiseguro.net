<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>4.3. Zend_Cache frontends</title>
<link rel="stylesheet" href="dbstyle.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
<link rel="start" href="index.html" title="Guía de Referencia del Programador">
<link rel="up" href="zend.cache.html" title="Chapter 4. Zend_Cache">
<link rel="prev" href="zend.cache.theory.html" title="4.2. The theory of caching">
<link rel="next" href="zend.cache.backends.html" title="4.4. Zend_Cache backends">
<link rel="chapter" href="zend.html" title="Chapter 1. Zend">
<link rel="chapter" href="zend.acl.html" title="Chapter 2. Zend_Acl">
<link rel="chapter" href="zend.auth.html" title="Chapter 3. Zend_Auth">
<link rel="chapter" href="zend.cache.html" title="Chapter 4. Zend_Cache">
<link rel="chapter" href="zend.config.html" title="Chapter 5. Zend_Config">
<link rel="chapter" href="zend.console.getopt.html" title="Chapter 6. Zend_Console_Getopt">
<link rel="chapter" href="zend.controller.html" title="Chapter 7. Zend_Controller">
<link rel="chapter" href="zend.date.html" title="Chapter 8. Zend_Date">
<link rel="chapter" href="zend.db.html" title="Chapter 9. Zend_Db">
<link rel="chapter" href="zend.feed.html" title="Chapter 10. Zend_Feed">
<link rel="chapter" href="zend.filter.html" title="Chapter 11. Zend_Filter">
<link rel="chapter" href="zend.gdata.html" title="Chapter 12. Zend_Gdata">
<link rel="chapter" href="zend.http.html" title="Chapter 13. Zend_Http">
<link rel="chapter" href="zend.json.html" title="Chapter 14. Zend_Json">
<link rel="chapter" href="zend.locale.html" title="Chapter 15. Zend_Locale">
<link rel="chapter" href="zend.log.html" title="Chapter 16. Zend_Log">
<link rel="chapter" href="zend.mail.html" title="Chapter 17. Zend_Mail">
<link rel="chapter" href="zend.measure.html" title="Chapter 18. Zend_Measure">
<link rel="chapter" href="zend.mime.html" title="Chapter 19. Zend_Mime">
<link rel="chapter" href="zend.pdf.html" title="Chapter 20. Zend_Pdf">
<link rel="chapter" href="zend.rest.html" title="Chapter 21. Zend_Rest">
<link rel="chapter" href="zend.search.html" title="Chapter 22. Zend_Search">
<link rel="chapter" href="zend.server.html" title="Chapter 23. Zend_Server">
<link rel="chapter" href="zend.service.html" title="Chapter 24. Zend_Service">
<link rel="chapter" href="zend.session.html" title="Chapter 25. Zend_Session">
<link rel="chapter" href="zend.uri.html" title="Chapter 26. Zend_Uri">
<link rel="chapter" href="zend.validate.html" title="Chapter 27. Zend_Validate">
<link rel="chapter" href="zend.view.html" title="Chapter 28. Zend_View">
<link rel="chapter" href="zend.xmlrpc.html" title="Chapter 29. Zend_XmlRpc">
<link rel="appendix" href="coding-standard.html" title="Appendix A. Zend Framework PHP Coding Standard">
<link rel="appendix" href="copyrights.html" title="Appendix B. Copyright Information">
<link rel="index" href="the.index.html" title="Index">
<link rel="subsection" href="zend.cache.frontends.html#zend.cache.core" title="4.3.1. Zend_Cache_Core">
<link rel="subsection" href="zend.cache.frontends.html#zend.cache.frontend.output" title="4.3.2. Zend_Cache_Frontend_Output">
<link rel="subsection" href="zend.cache.frontends.html#zend.cache.frontend.function" title="4.3.3. Zend_Cache_Frontend_Function">
<link rel="subsection" href="zend.cache.frontends.html#zend.cache.frontend.class" title="4.3.4. Zend_Cache_Frontend_Class">
<link rel="subsection" href="zend.cache.frontends.html#zend.cache.frontends.file" title="4.3.5. Zend_Cache_Frontend_File">
<link rel="subsection" href="zend.cache.frontends.html#zend.cache.frontends.page" title="4.3.6. Zend_Cache_Frontend_Page">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">4.3. Zend_Cache frontends</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.cache.theory.html">Prev</a> </td>
<th width="60%" align="center">Chapter 4. Zend_Cache</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.cache.backends.html">Next</a>
</td>
</tr>
</table></div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.cache.frontends"></a>4.3. Zend_Cache frontends</h2></div></div></div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.cache.core"></a>4.3.1. Zend_Cache_Core</h3></div></div></div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.core.introduction"></a>4.3.1.1. Introduction</h4></div></div></div>
<p>
                <code class="code">Zend_Cache_Core</code> is a special frontend because it is the core
                of the module. It is a generic cache frontend and is extended by other classes.
            </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
                All frontends inherit from <code class="code">Zend_Cache_Core</code> so that its methods and options
                (described below) would also be available in other frontends, therefore they won't be
                documented there.
            </p></td></tr>
</table></div>
</div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.core.options"></a>4.3.1.2. Available options</h4></div></div></div>
<p>
                These options are passed to the factory method as demonstrated in previous examples.
            </p>
<div class="table">
<a name="id4788192"></a><p class="title"><b>Table 4.1. Available options</b></p>
<table summary="Available options" border="1">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Option</th>
<th>Data Type</th>
<th>Default Value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code class="code">caching</code></td>
<td><code class="code">boolean</code></td>
<td><code class="code">true</code></td>
<td>
                                  enable / disable caching (can be very usefull for the debug of 
                                  cached scripts)                
                              </td>
</tr>
<tr>
<td><code class="code">lifeTime</code></td>
<td><code class="code">int</code></td>
<td><code class="code">3600</code></td>
<td>
                                cache lifetime (in seconds), if set to <code class="code">null</code>, the 
                                cache is valid forever.       
                              </td>
</tr>
<tr>
<td><code class="code">logging</code></td>
<td><code class="code">boolean</code></td>
<td><code class="code">false</code></td>
<td>
                                if set to true, logging through <code class="code">Zend_Log</code> is activated 
                                (but the system is slower)         
                              </td>
</tr>
<tr>
<td><code class="code">writeControl</code></td>
<td><code class="code">boolean</code></td>
<td><code class="code">true</code></td>
<td>
                                Enable / disable write control (the cache is read 
                                just after writing to detect corrupt entries), enabling writeControl
                                will lightly slow the cache writing but not the cache reading (it 
                                can detect some corrupt cache files but it's not a perfect control)        
                              </td>
</tr>
<tr>
<td><code class="code">automaticSerialization</code></td>
<td><code class="code">boolean</code></td>
<td><code class="code">false</code></td>
<td>
                                Enable / disable automatic serialization, it can be used to save directly datas
                                which aren't strings (but it's slower)            
                              </td>
</tr>
<tr>
<td><code class="code">automaticCleaningFactor</code></td>
<td><code class="code">int</code></td>
<td><code class="code">0</code></td>
<td>
                                Disable / Tune the automatic cleaning process (garbage collector):
                                0 means no automatic cache cleaning, 1 means systematic cache cleaning
                                and x &gt; 1 means automatic random cleaning 1 times in x write operations.
                              </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.core.examples"></a>4.3.1.3. Examples</h4></div></div></div>
<p>
                An example is given in the manual at the very beginning.
            </p>
<p>
                If you store only strings into cache (because with "automaticSerialization" option, it's possible
                to store some booleans), you can use a more compact construction like:
            </p>
<pre class="programlisting">&lt;?php  
             
// we assume you already have $cache

$id = 'myBigLoop'; // cache id of "what we want to cache"

if (!($data = $cache-&gt;load($id))) {
    // cache miss
    
    $data = '';
    for ($i = 0; $i &lt; 10000; $i++) {
        $data = $data . $i;
    }
    
    $cache-&gt;save($data);
    
} 

// [...] do something with $data (echo it, pass it on etc.)
             
?&gt;       </pre>
<p>
                If you want to cache multiple blocks or data instances, the idea is the same:
            </p>
<pre class="programlisting">&lt;?php  
             
// make sure you use unique identifiers:
$id1 = 'foo';
$id2 = 'bar';

// block 1
if (!($data = $cache-&gt;load($id1))) {
    // cache missed
    
    $data = '';
    for ($i=0;$i&lt;10000;$i++) {
        $data = $data . $i;
    }
    
    $cache-&gt;save($data);
    
} 
echo($data);

// this isn't affected by caching
echo('NEVER CACHED! ');

// block 2
if (!($data = $cache-&gt;load($id2))) {
    // cache missed
    
    $data = '';
    for ($i=0;$i&lt;10000;$i++) {
        $data = $data . '!';
    }
    
    $cache-&gt;save($data);
    
} 
echo($data);

?&gt;       </pre>
</div>
</div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.cache.frontend.output"></a>4.3.2. Zend_Cache_Frontend_Output</h3></div></div></div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontend.output.introduction"></a>4.3.2.1. Introduction</h4></div></div></div>
<p>
                <code class="code">Zend_Cache_Frontend_Output</code> is an output-capturing frontend. It utilizes
                output buffering in PHP to capture everything between its <code class="code">start()</code> and
                <code class="code">end()</code> methods.
            </p>
</div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontend.output.options"></a>4.3.2.2. Available options</h4></div></div></div>
<p>
                This frontend doesn't have any specific options other than those of
                <code class="code">Zend_Cache_Core</code>.
            </p>
</div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontend.output.examples"></a>4.3.2.3. Examples</h4></div></div></div>
<p>
                An example is given in the manual at the very beginning. Here it is with minor changes:
            </p>
<pre class="programlisting">&lt;?php

// if it is a cache miss, output buffering is triggered
if(!$cache-&gt;start('mypage')):

// output everything as usual
echo 'Hello world! ';
echo 'This is cached ('.time().') ';

$cache-&gt;end(); // output buffering ends
endif;

echo 'This is never cached ('.time().').';

?&gt;       </pre>
<p>
                Using this form it is fairly easy to set up output caching in your already working project
                with little or no code refactoring.
            </p>
</div>
</div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.cache.frontend.function"></a>4.3.3. Zend_Cache_Frontend_Function</h3></div></div></div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontend.function.introduction"></a>4.3.3.1. Introduction</h4></div></div></div>
<p>
                <code class="code">Zend_Cache_Frontend_Function</code> caches the results of function calls. It has
                a single main method named <code class="code">call()</code> which takes a function name and parameters
                for the call in an array.
            </p>
</div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontend.function.options"></a>4.3.3.2. Available options</h4></div></div></div>
<div class="table">
<a name="id4788621"></a><p class="title"><b>Table 4.2. Available options</b></p>
<table summary="Available options" border="1">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Option</th>
<th>Data Type</th>
<th>Default Value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code class="code">cacheByDefault</code></td>
<td><code class="code">boolean</code></td>
<td><code class="code">true</code></td>
<td>
                                  if true, function calls will be cached by default                
                              </td>
</tr>
<tr>
<td><code class="code">cachedFunctions</code></td>
<td><code class="code">array</code></td>
<td> </td>
<td>
                                  function names which will always be cached               
                              </td>
</tr>
<tr>
<td><code class="code">nonCachedFunctions</code></td>
<td><code class="code">array</code></td>
<td> </td>
<td>
                                  function names which must never be cached               
                              </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontend.function.examples"></a>4.3.3.3. Examples</h4></div></div></div>
<p>
                Using the <code class="code">call()</code> function is the same as using
                <code class="code">call_user_func_array()</code> in PHP:
            </p>
<pre class="programlisting">&lt;?php

$cache-&gt;call('veryExpensiveFunc', $params);

# $params is an array
# for example to call (with caching) veryExpensiveFunc(1, 'foo', 'bar'), you will use
# $cache-&gt;call('veryExpensiveFunc', array(1, 'foo', 'bar'))

?&gt;       </pre>
<p>
                <code class="code">Zend_Cache_Frontend_Function</code> is smart enough to cache both the
                return value of the function and its internal output.
            </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
                You can pass any builtin or user defined function with the exception of
                <code class="code">array()</code>, <code class="code">echo()</code>, <code class="code">empty()</code>, <code class="code">eval()</code>,
                <code class="code">exit()</code>, <code class="code">isset()</code>, <code class="code">list()</code>, <code class="code">print()</code>
                and <code class="code">unset()</code>. 
            </p></td></tr>
</table></div>
</div>
</div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.cache.frontend.class"></a>4.3.4. Zend_Cache_Frontend_Class</h3></div></div></div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontend.class.introduction"></a>4.3.4.1. Introduction</h4></div></div></div>
<p>
                <code class="code">Zend_Cache_Frontend_Class</code> is different from <code class="code">Zend_Cache_Frontend_Function</code>
                because it allows caching of object and static method calls.
            </p>
</div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontend.class.options"></a>4.3.4.2. Available options</h4></div></div></div>
<div class="table">
<a name="id4788850"></a><p class="title"><b>Table 4.3. Available options</b></p>
<table summary="Available options" border="1">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Option</th>
<th>Data Type</th>
<th>Default Value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td>
<code class="code">cachedEntity</code> (required)</td>
<td><code class="code">mixed</code></td>
<td> </td>
<td>
                                  if set to a class name, we will cache an abstract class and will use
                                  only static calls; if set to an object, we will cache this object methods             
                              </td>
</tr>
<tr>
<td><code class="code">cacheByDefault</code></td>
<td><code class="code">boolean</code></td>
<td><code class="code">true</code></td>
<td>
                                  if true, calls will be cached by default                
                              </td>
</tr>
<tr>
<td><code class="code">cachedMethods</code></td>
<td><code class="code">array</code></td>
<td> </td>
<td>
                                  method names which will always be cached               
                              </td>
</tr>
<tr>
<td><code class="code">nonCachedMethods</code></td>
<td><code class="code">array</code></td>
<td> </td>
<td>
                                  method names which must never be cached               
                              </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontend.class.examples"></a>4.3.4.3. Examples</h4></div></div></div>
<p>
                For example, to cache static calls :
            </p>
<pre class="programlisting">&lt;?php

class test {
   
    # Static method
    public static function foobar($param1, $param2) {
        echo "foobar_output($param1, $param2)";
        return "foobar_return($param1, $param2)";   
    }

}

// [...]
$frontendOptions = array(
    'cachedEntity' =&gt; 'test' // The name of the class
);
// [...]

# The cached call
$res = $cache-&gt;foobar('1', '2');

?&gt;       </pre>
<p>
                To cache classic method calls :
            </p>
<pre class="programlisting">&lt;?php

class test {
   
    private $_string = 'hello !';
      
    public function foobar2($param1, $param2) {
        echo($this-&gt;_string);
        echo "foobar2_output($param1, $param2)";
        return "foobar2_return($param1, $param2)";   
    }

}

// [...]
$frontendOptions = array(
    'cachedEntity' =&gt; new test() // An instance of the class
);
// [...]

# The cached call
$res = $cache-&gt;foobar2('1', '2');

?&gt;       </pre>
</div>
</div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.cache.frontends.file"></a>4.3.5. Zend_Cache_Frontend_File</h3></div></div></div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontends.file.introduction"></a>4.3.5.1. Introduction</h4></div></div></div>
<p>
                <code class="code">Zend_Cache_Frontend_File</code> is a frontend driven by the 
                modification time of a "master file". It's really interesting for examples
                in configuration or templates issues.
            </p>
<p> 
            	For instance, you have an XML configuration file which is parsed by a function 
            	which returns a "config object" (like with <code class="code">Zend_Config</code>). With
            	<code class="code">Zend_Cache_Frontend_File</code>, you can store the "config object" into
            	cache (to avoid the parsing of the XML config file at each time) but with a
            	sort of strong dependency on the "master file". So, if the XML config file
            	is modified, the cache is immediatly invalidated.
            </p>
</div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontends.file.options"></a>4.3.5.2. Available options</h4></div></div></div>
<div class="table">
<a name="id4789102"></a><p class="title"><b>Table 4.4. Available options</b></p>
<table summary="Available options" border="1">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Option</th>
<th>Data Type</th>
<th>Default Value</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td><code class="code">masterFile (mandatory)</code></td>
<td><code class="code">string</code></td>
<td><code class="code"></code></td>
<td>
                                  the complete path and name of the master file                 
                              </td>
</tr></tbody>
</table>
</div>
</div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontends.file.examples"></a>4.3.5.3. Examples</h4></div></div></div>
<p>
                Use of this frontend is the same than of <code class="code">Zend_Cache_Core</code>. There
                is no need of a specific example - the only thing to do is to 
                define the <code class="code">masterFile</code> when using the factory.
            </p>
</div>
</div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.cache.frontends.page"></a>4.3.6. Zend_Cache_Frontend_Page</h3></div></div></div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontends.page.introduction"></a>4.3.6.1. Introduction</h4></div></div></div>
<p>
	            <code class="code">Zend_Cache_Frontend_Page</code> is like <code class="code">Zend_Cache_Frontend_Output</code>
	            but designed for a complete page. It's impossible to use <code class="code">Zend_Cache_Frontend_Page</code>
	            for caching only a single block.
	        </p>
<p>
	        	On the other hand, the "cache id" is calculated automatically with
	        	<code class="code">$_SERVER['REQUEST_URI']</code> and (depending on options) 
	        	<code class="code">$_GET</code>, <code class="code">$_POST</code>, <code class="code">$_SESSION</code>, <code class="code">$_COOKIE</code>, <code class="code">$_FILES</code>.
	        	More over, you have only one method to call (<code class="code">start()</code>) because the
	        	<code class="code">end()</code> call is fully automatic when the page is ended.
	        </p>
<p>
	        	For the moment, it's not implemented but we plan to add a HTTP conditional system
	        	to save bandwith (the system will send a HTTP 304 Not Modified if the cache is hit
	        	and if the browser has already the good version).
	        </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top"><p>
                Zend_Cache_Frontend_Page is really "alpha stuff" and is meant to be improved further down the road.
	        </p></td></tr>
</table></div>
</div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontends.page.options"></a>4.3.6.2. Available options (for this frontend in Zend_Cache factory)</h4></div></div></div>
<div class="table">
<a name="id4789286"></a><p class="title"><b>Table 4.5. Available options</b></p>
<table summary="Available options" border="1">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Option</th>
<th>Data Type</th>
<th>Default Value</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code class="code">httpConditional</code></td>
<td><code class="code">boolean</code></td>
<td><code class="code">false</code></td>
<td>
	                              use the httpConditional system (not implemented for the moment)                 
	                          </td>
</tr>
<tr>
<td><code class="code">debugHeader</code></td>
<td><code class="code">boolean</code></td>
<td><code class="code">false</code></td>
<td>
	                              if true, a debug text is added before each cached pages                 
	                          </td>
</tr>
<tr>
<td><code class="code">defaultOptions</code></td>
<td><code class="code">array</code></td>
<td><code class="code">array(...see below...)</code></td>
<td>
	                              an associative array of default options : 
	                              <div class="itemizedlist"><ul type="disc">
<li><p>
	                                          <code class="code">(boolean, true by default) cache</code> : 
	                                          cache is on if true
	                                      </p></li>
<li><p>
	                                          <code class="code">(boolean, false by default) cacheWithGetVariables</code> : 
	                                          if true, cache is still on even if there are some variables in 
	                                          <code class="code">$_GET</code> array
	                                      </p></li>
<li><p>
                                              <code class="code">(boolean, false by default) cacheWithPostVariables</code> : 
                                              if true, cache is still on even if there are some variables in 
                                              <code class="code">$_POST</code> array
	                                      </p></li>
<li><p>
        	                                  <code class="code">(boolean, false by default) cacheWithSessionVariables</code> : 
        	                                  if true, cache is still on even if there are some variables in 
        	                                  <code class="code">$_SESSION</code> array
	                                      </p></li>
<li><p>
	                                          <code class="code">(boolean, false by default) cacheWithFilesVariables</code> : 
	                                          if true, cache is still on even if there are some variables in 
	                                          <code class="code">$_FILES</code> array
	                                      </p></li>
<li><p>
	                                          <code class="code">(boolean, false by default) cacheWithCookieVariables</code> : 
	                                          if true, cache is still on even if there are some variables in 
	                                          <code class="code">$_COOKIE</code> array
	                                      </p></li>
<li><p>
						        			  <code class="code">(boolean, true by default) makeIdWithGetVariables</code> : 
						        			  if true, the cache id will be dependent of the content of the 
						        			  <code class="code">$_GET</code> array
	                                      </p></li>
<li><p>
	                                          <code class="code">(boolean, true by default) makeIdWithPostVariables</code> : 
	                                          if true, the cache id will be dependent of the content of the 
	                                          <code class="code">$_POST</code> array
	                                      </p></li>
<li><p>
        	                                  <code class="code">(boolean, true by default) makeIdWithSessionVariables</code> : 
        	                                  if true, the cache id will be dependent of the content of the 
        	                                  <code class="code">$_SESSION</code> array
	                                      </p></li>
<li><p>
	                                          <code class="code">(boolean, true by default) makeIdWithFilesVariables</code> : 
	                                          if true, the cache id will be dependent of the content of the 
	                                          <code class="code">$_FILES</code> array
	                                      </p></li>
<li><p>
	                                          <code class="code">(boolean, true by default) makeIdWithCookieVariables</code> : 
	                                          if true, the cache id will be dependent of the content of the 
	                                          <code class="code">$_COOKIE</code> array	                              
	                                      </p></li>
</ul></div>              
	                          </td>
</tr>
<tr>
<td><code class="code">regexps</code></td>
<td><code class="code">array</code></td>
<td><code class="code">array()</code></td>
<td>
	                          	  an associative array to set options only for some REQUEST_URI, keys are (PCRE) regexps, values are 
	                          	  associative arrays with specific options to set if the regexp matchs on $_SERVER['REQUEST_URI']
                                  (see defaultOptions for the list of available options) ; if several regexps match the $_SERVER['REQUEST_URI'], 
                                  only the last one will be used       
	                          </td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3" lang="en">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.cache.frontends.page.examples"></a>4.3.6.3. Examples</h4></div></div></div>
<p>
	            Use of Zend_Cache_Frontend_Page is really trivial :
	        </p>
<pre class="programlisting">&lt;?php
	           
// [...] // require, configuration and factory
	
$cache-&gt;start();
// if the cache is hit, the result is sent to the browser and the script stop here
	
// rest of the page ...
	
?&gt;       </pre>
<p>
	        	a more complex example which shows a way to get a centralized cache management in a bootstrap file
	        	(for using with Zend_Controller for example)
            </p>
<pre class="programlisting">&lt;?php

// [...] you should avoid to put too much lines before the cache section 
// [...] for example, for optimal performances, "require_once" or "Zend::loadClass" should be 
// [...] after the cache section        	

require_once 'Zend/Cache.php';

$frontendOptions = array(
   'lifeTime' =&gt; 7200,
   'debugHeader' =&gt; true, // for debuging 
   'regexps' =&gt; array(
       '^/$' =&gt; array('cache' =&gt; true),         // cache the whole IndexController         
       '^/index/' =&gt; array('cache' =&gt; true),    // cache the whole IndexController
       '^/article/' =&gt; array('cache' =&gt; false), // we don't cache the ArticleController...
       '^/article/view/' =&gt; array(              // ...but we cache the "view" action of 
           'cache' =&gt; true,                     // this ArticleController
           'cacheWithPostVariables' =&gt; true,    // and we cache even there are some variables in $_POST
           'makeIdWithPostVariables' =&gt; true,   // (but the cache will be dependent of the $_POST array)
       )
   )	  
);
$backendOptions = array(
    'cacheDir' =&gt; '/tmp/' 
);

// getting a Zend_Cache_Frontend_Page object
$cache = Zend_Cache::factory('Page', 'File', $frontendOptions, $backendOptions);

$cache-&gt;start();
// if the cache is hit, the result is sent to the browser and the script stop here

// [...] the end of the bootstrap file (these lines won't be executed if the cache is hit)
	        	
?&gt;       </pre>
</div>
</div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.cache.theory.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.cache.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.cache.backends.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">4.2. The theory of caching </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> 4.4. Zend_Cache backends</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
